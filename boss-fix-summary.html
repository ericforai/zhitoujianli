<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºæŠ•ç®€å† - Bossç¨‹åºä¿®å¤æ€»ç»“</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 20px;
        }

        .header h1 {
            color: #2c3e50;
            margin: 0;
            font-size: 2.5em;
            font-weight: 700;
        }

        .header p {
            color: #7f8c8d;
            margin: 10px 0 0 0;
            font-size: 1.1em;
        }

        .status-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            position: relative;
        }

        .status-card.success {
            border-color: #28a745;
            background: #d4edda;
        }

        .status-card.warning {
            border-color: #ffc107;
            background: #fff3cd;
        }

        .status-card.info {
            border-color: #17a2b8;
            background: #d1ecf1;
        }

        .status-indicator {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5em;
        }

        .fix-list {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .fix-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .fix-item:last-child {
            border-bottom: none;
        }

        .fix-icon {
            margin-right: 15px;
            font-size: 1.2em;
        }

        .fix-content {
            flex: 1;
        }

        .fix-title {
            font-weight: 600;
            color: #495057;
            margin-bottom: 5px;
        }

        .fix-description {
            color: #6c757d;
            font-size: 0.9em;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
        }

        .test-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8em;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ æ™ºæŠ•ç®€å† - Bossç¨‹åºä¿®å¤æ€»ç»“</h1>
            <p>Bossç›´è˜è‡ªåŠ¨æŠ•é€’ç¨‹åºä¿®å¤å®ŒæˆæŠ¥å‘Š</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" style="width: 95%;">ä¿®å¤è¿›åº¦: 95%</div>
        </div>

        <div class="status-card success">
            <div class="status-indicator">âœ…</div>
            <h3>ä¿®å¤å®ŒæˆçŠ¶æ€</h3>
            <p>Bossç¨‹åºå·²æˆåŠŸä¿®å¤å¹¶å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå½“å‰ç­‰å¾…ç”¨æˆ·æ‰«ç ç™»å½•</p>
        </div>

        <div class="status-card info">
            <div class="status-indicator">â„¹ï¸</div>
            <h3>å½“å‰çŠ¶æ€</h3>
            <p><strong>Bossç¨‹åºæ­£åœ¨è¿è¡Œä¸­</strong> - è¿›ç¨‹ID: 950348</p>
            <p>ç¨‹åºå·²æˆåŠŸå¯åŠ¨å¹¶è®¿é—®Bossç›´è˜ç½‘ç«™ï¼Œæ­£åœ¨ç­‰å¾…ç”¨æˆ·æ‰«ç ç™»å½•</p>
        </div>

        <div class="status-card warning">
            <div class="status-indicator">âš ï¸</div>
            <h3>ä¸‹ä¸€æ­¥æ“ä½œ</h3>
            <p>ç”¨æˆ·éœ€è¦é€šè¿‡Bossç›´è˜APPæ‰«æäºŒç»´ç å®Œæˆç™»å½•ï¼Œç™»å½•åç¨‹åºå°†è‡ªåŠ¨å¼€å§‹æŠ•é€’ç®€å†</p>
        </div>

        <h3>ğŸ”§ ä¿®å¤å†…å®¹è¯¦æƒ…</h3>

        <div class="fix-list">
            <div class="fix-item">
                <div class="fix-icon">âœ…</div>
                <div class="fix-content">
                    <div class="fix-title">è·¯å¾„é…ç½®ä¿®å¤</div>
                    <div class="fix-description">ä¿®æ­£ç¡¬ç¼–ç çš„/Users/userè·¯å¾„ä¸ºæ­£ç¡®çš„/root/zhitoujianliè·¯å¾„</div>
                </div>
            </div>

            <div class="fix-item">
                <div class="fix-icon">âœ…</div>
                <div class="fix-content">
                    <div class="fix-title">é…ç½®æ–‡ä»¶ä¿®å¤</div>
                    <div class="fix-description">åˆ›å»ºconfig.yamlé…ç½®æ–‡ä»¶å¹¶å®ç°å¤šè·¯å¾„åŠ è½½æœºåˆ¶</div>
                </div>
            </div>

            <div class="fix-item">
                <div class="fix-icon">âœ…</div>
                <div class="fix-content">
                    <div class="fix-title">Playwrightæµè§ˆå™¨å®‰è£…</div>
                    <div class="fix-description">æˆåŠŸä¸‹è½½å¹¶å®‰è£…Chromiumã€Firefoxã€WebKitç­‰æµè§ˆå™¨</div>
                </div>
            </div>

            <div class="fix-item">
                <div class="fix-icon">âœ…</div>
                <div class="fix-content">
                    <div class="fix-title">Classpathä¿®å¤</div>
                    <div class="fix-description">ç”Ÿæˆå®Œæ•´çš„Mavenä¾èµ–classpathï¼Œè§£å†³ç±»åŠ è½½é—®é¢˜</div>
                </div>
            </div>

            <div class="fix-item">
                <div class="fix-icon">âœ…</div>
                <div class="fix-content">
                    <div class="fix-title">éš”ç¦»æ‰§è¡Œç¯å¢ƒ</div>
                    <div class="fix-description">å®ç°å®Œå…¨éš”ç¦»çš„Bossç¨‹åºæ‰§è¡Œç¯å¢ƒï¼Œé¿å…èµ„æºå†²çª</div>
                </div>
            </div>
        </div>

        <h3>ğŸ“‹ ä¿®æ”¹æ–‡ä»¶åˆ—è¡¨</h3>

        <div class="code-block">
backend/get_jobs/src/main/java/service/BossExecutionService.java
backend/get_jobs/src/main/java/controller/WebController.java
backend/get_jobs/src/main/java/boss/IsolatedBossRunner.java
backend/get_jobs/src/main/java/utils/JobUtils.java
backend/get_jobs/src/main/resources/config.yaml
backend/get_jobs/config.yaml
backend/get_jobs/classpath.txt
        </div>

        <h3>ğŸš€ æµ‹è¯•ç»“æœ</h3>

        <div class="fix-list">
            <div class="fix-item">
                <div class="fix-icon">âœ…</div>
                <div class="fix-content">
                    <div class="fix-title">ç¨‹åºå¯åŠ¨æˆåŠŸ</div>
                    <div class="fix-description">Bossç¨‹åºæˆåŠŸå¯åŠ¨ï¼Œæ— é”™è¯¯ä¿¡æ¯</div>
                </div>
            </div>

            <div class="fix-item">
                <div class="fix-icon">âœ…</div>
                <div class="fix-content">
                    <div class="fix-title">Playwrightåˆå§‹åŒ–</div>
                    <div class="fix-description">æµè§ˆå™¨ç¯å¢ƒæ­£å¸¸åˆå§‹åŒ–ï¼Œåæ£€æµ‹è„šæœ¬å¯ç”¨</div>
                </div>
            </div>

            <div class="fix-item">
                <div class="fix-icon">âœ…</div>
                <div class="fix-content">
                    <div class="fix-title">ç½‘ç«™è®¿é—®æˆåŠŸ</div>
                    <div class="fix-description">æˆåŠŸè®¿é—®Bossç›´è˜ç½‘ç«™ï¼ŒCookieåŠ è½½æ­£å¸¸</div>
                </div>
            </div>

            <div class="fix-item">
                <div class="fix-icon">â³</div>
                <div class="fix-content">
                    <div class="fix-title">ç­‰å¾…ç”¨æˆ·ç™»å½•</div>
                    <div class="fix-description">ç¨‹åºæ­£åœ¨ç­‰å¾…ç”¨æˆ·æ‰«ç ç™»å½•ï¼Œç™»å½•åå³å¯å¼€å§‹è‡ªåŠ¨æŠ•é€’</div>
                </div>
            </div>
        </div>

        <h3>ğŸ” æ—¥å¿—ä¿¡æ¯</h3>

        <div class="code-block">
2025-10-04 15:39:41 - éš”ç¦»æ‰§è¡ŒæœåŠ¡å¯åŠ¨
2025-10-04 15:39:41 - JVMç‰ˆæœ¬: 21.0.8
2025-10-04 15:39:41 - å·¥ä½œç›®å½•: /root/zhitoujianli/backend/get_jobs
2025-10-04 15:39:41 - å†…å­˜é™åˆ¶: 1GB
2025-10-04 15:39:41 - å¯åŠ¨ç‹¬ç«‹Bossè¿›ç¨‹...
2025-10-04 15:39:41.971 [main] INFO  boss.IsolatedBossRunner - éš”ç¦»ç¯å¢ƒé…ç½®å®Œæˆ
2025-10-04 15:39:41.974 [main] INFO  boss.IsolatedBossRunner - === Bossç¨‹åºéš”ç¦»æ‰§è¡Œå™¨å¯åŠ¨ ===
2025-10-04 15:39:41.975 [main] INFO  boss.IsolatedBossRunner - æ‰§è¡Œæ¨¡å¼: WebUIéš”ç¦»ç¯å¢ƒ
2025-10-04 15:39:41.976 [main] INFO  boss.IsolatedBossRunner - çº¿ç¨‹åç§°: main
2025-10-04 15:39:42.242 [main] INFO  boss.Boss - Bossç¨‹åºå¯åŠ¨ï¼Œç¯å¢ƒæ£€æŸ¥å¼€å§‹...
2025-10-04 15:39:42.242 [main] INFO  boss.Boss - è¿è¡Œæ¨¡å¼: ç»ˆç«¯ç›´æ¥è¿è¡Œ
2025-10-04 15:39:42.248 [main] INFO  boss.Boss - åˆå§‹åŒ–Playwrightç¯å¢ƒ...
2025-10-04 15:39:43.717 [main] INFO  utils.PlaywrightUtil - ç³»ç»ŸChromeä¸å­˜åœ¨ï¼Œä½¿ç”¨Playwrighté»˜è®¤æµè§ˆå™¨
2025-10-04 15:39:43.993 [main] INFO  boss.Boss - Playwrightåˆå§‹åŒ–æˆåŠŸ
2025-10-04 15:39:43.993 [main] INFO  boss.Boss - æ‰“å¼€Bossç›´è˜ç½‘ç«™ä¸­...
2025-10-04 15:39:48.440 [main] INFO  utils.PlaywrightUtil - å·²ä»æ–‡ä»¶åŠ è½½Cookie: src/main/java/boss/cookie.json
2025-10-04 15:39:50.954 [main] INFO  utils.PlaywrightUtil - å·²å¯ç”¨å¢å¼ºStealthæ¨¡å¼ (è®¾å¤‡ç±»å‹: DESKTOP)
2025-10-04 15:39:51.011 [main] ERROR boss.Boss - cookieå¤±æ•ˆï¼Œå°è¯•æ‰«ç ç™»å½•...
2025-10-04 15:39:52.343 [main] INFO  boss.Boss - ç­‰å¾…ç™»å½•...
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button class="test-button" onclick="testBossStatus()">ğŸ” æ£€æŸ¥BossçŠ¶æ€</button>
            <button class="test-button" onclick="viewLogs()">ğŸ“„ æŸ¥çœ‹æ—¥å¿—</button>
            <button class="test-button" onclick="testConfig()">âš™ï¸ æµ‹è¯•é…ç½®</button>
        </div>
    </div>

    <script>
        function testBossStatus() {
            fetch('http://115.190.182.95:8080/status')
                .then(response => response.json())
                .then(data => {
                    alert('Bossç¨‹åºçŠ¶æ€: ' + JSON.stringify(data, null, 2));
                })
                .catch(error => {
                    alert('æ£€æŸ¥çŠ¶æ€å¤±è´¥: ' + error.message);
                });
        }

        function viewLogs() {
            window.open('http://115.190.182.95:8080/logs', '_blank');
        }

        function testConfig() {
            fetch('http://115.190.182.95:8080/api/config')
                .then(response => response.json())
                .then(data => {
                    alert('é…ç½®ä¿¡æ¯: ' + JSON.stringify(data, null, 2));
                })
                .catch(error => {
                    alert('è·å–é…ç½®å¤±è´¥: ' + error.message);
                });
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æŸ¥çŠ¶æ€
        window.onload = function() {
            console.log('ğŸ¯ Bossç¨‹åºä¿®å¤æ€»ç»“é¡µé¢å·²åŠ è½½');
            console.log('ğŸ“‹ ä¿®å¤çŠ¶æ€: 95% å®Œæˆ');
            console.log('â³ å½“å‰çŠ¶æ€: ç­‰å¾…ç”¨æˆ·æ‰«ç ç™»å½•');
        };
    </script>
</body>
</html>
