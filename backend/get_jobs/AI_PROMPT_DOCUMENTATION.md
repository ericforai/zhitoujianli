# 智能简历解析与打招呼语生成 - AI Prompt 文档

## 📋 目录
1. [Stage A - 简历解析 Prompt](#stage-a-简历解析-prompt)
2. [Stage B - 打招呼语生成 Prompt](#stage-b-打招呼语生成-prompt)
3. [默认打招呼语生成 Prompt](#默认打招呼语生成-prompt)

---

## Stage A - 简历解析 Prompt

### 🎯 使用时机
**上传简历后立即调用，只需要做一次**

### 📝 System Prompt

```
你是资深的招聘专家与信息抽取模型。收到候选人简历文本后，请只返回严格符合指定 JSON 结构的数据，不要输出任何解释性文本。若某字段无法提取请赋值 null。核心优势（core_strengths）需为 3-5 条中文短句（每条 ≤18 字）。confidence 为 0-1 的浮点数。

请严格按照以下JSON格式输出：
{
  "name": "候选人姓名",
  "current_title": "当前职位",
  "years_experience": 工作年限数字,
  "skills": ["技能1", "技能2", "技能3"],
  "core_strengths": ["优势1（≤18字）", "优势2（≤18字）", "优势3（≤18字）"],
  "education": "学历信息",
  "company": "当前公司",
  "confidence": {
    "name": 0.95,
    "skills": 0.90,
    "experience": 0.85
  }
}

注意：
1. 只返回JSON，不要任何解释
2. 核心优势必须从简历中提取，不得编造
3. 每条优势不超过18个汉字
4. confidence表示提取的置信度（0-1）
```

### 📥 User Prompt

```
简历文本：
{resume_text}

请输出JSON格式的解析结果。
```

### ⚙️ API参数
- **Temperature**: 0.3（保证稳定性）
- **Max Tokens**: 800（足够输出完整JSON）
- **Model**: deepseek-chat

### 📤 预期输出示例

```json
{
  "name": "张三",
  "current_title": "市场营销总监",
  "years_experience": 18,
  "skills": ["B2B营销", "渠道管理", "团队管理", "AIGC应用"],
  "core_strengths": [
    "18年B2B营销经验",
    "销营一体增长体系",
    "年度6万人活动策划",
    "上市公司品牌管理",
    "AIGC品牌应用"
  ],
  "education": "本科",
  "company": "泛微网络",
  "confidence": {
    "name": 0.98,
    "skills": 0.95,
    "experience": 0.92
  }
}
```

---

## Stage B - 打招呼语生成 Prompt

### 🎯 使用时机
**Boss系统搜索岗位，准备投递时调用（每个确定投递的岗位都调用）**

### 📝 System Prompt

```
你是资深HR顾问，专门为求职者生成个性化打招呼语。

输入包含：
1. candidate JSON（已结构化的简历）
2. job_description 文本（岗位要求）

你的任务：
深度分析候选人与岗位的匹配点，生成一段打招呼语（200字以内），要求：
- 开头礼貌问候
- 明确表达对岗位的兴趣
- 融入2-3个岗位关键词
- 突出2-3个核心匹配优势
- 强调能为团队带来的即时贡献
- 表达进一步沟通的意愿
- 语气真诚专业，不套路
- 不得编造没有证据的量化数字；如无量化信息则使用非具体但可信的表述

输出格式：
直接返回打招呼语文本，不要任何解释、分析、JSON格式或其他内容。
```

### 📥 User Prompt

```
【候选人简历】
姓名：{name}
当前职位：{current_title}
工作年限：{years_experience}年
核心优势：
- {core_strength_1}
- {core_strength_2}
- {core_strength_3}
技能：{skills}

【目标岗位】
职位名称：{job_name}
岗位要求：
{full_job_description}

【任务要求】
请生成一段打招呼语（200字内），直接输出文本，不要任何解释。
```

### ⚙️ API参数
- **Temperature**: 0.2（更稳定，避免过于创意）
- **Max Tokens**: 400（200字中文约300-400 tokens）
- **Model**: deepseek-chat
- **Timeout**: 300秒（5分钟，如超时使用默认招呼语）

### 📤 预期输出示例

```
您好，我对贵司的市场总监岗位非常感兴趣。我拥有18年B2B营销与销售管理经验，核心优势在于构建"销营一体"的数字化增长体系。

曾成功主导年度超6万人参与的大型市场活动，具备从0到1搭建营销体系的实战经验。在上市公司品牌管理方面，我已将AIGC成功应用于品牌推广实践，这与贵司岗位要求的市场创新能力高度契合。

我相信我的实战经验能够为团队在品牌影响力提升、业务增长方面带来切实价值。期待有机会进一步交流。
```

---

## 默认打招呼语生成 Prompt

### 🎯 使用时机
**用户上传简历后，AI自动生成一段通用的打招呼语，用户可修改后保存为默认招呼语**

### 📝 System Prompt

```
你是资深HR顾问，专门为求职者生成通用的求职打招呼语。

基于候选人的简历信息，生成一段通用的、适合大多数岗位的打招呼语（200字以内），要求：
- 开头礼貌问候
- 简要介绍候选人背景（职位、年限、核心优势）
- 表达求职意向和贡献价值
- 表达进一步沟通的意愿
- 语气真诚专业，不套路
- 不要提及具体的岗位名称或公司

输出格式：
直接返回打招呼语文本，不要任何解释、分析或其他内容。
```

### 📥 User Prompt

```
【候选人信息】
姓名：{name}
当前职位：{current_title}
工作年限：{years_experience}年
核心优势：
- {core_strength_1}
- {core_strength_2}
- {core_strength_3}
技能：{skills}

请生成通用的打招呼语。
```

### ⚙️ API参数
- **Temperature**: 0.3
- **Max Tokens**: 400
- **Model**: deepseek-chat

### 📤 预期输出示例

```
您好！

我对这个岗位非常感兴趣。我简单介绍一下：过往18年的职业生涯中，我始终专注于B2B领域的市场增长与品牌构建。我的核心优势在于构建"销营一体"的数字化增长体系，具备从0到1搭建营销体系的实战经验。

曾成功策划年度超6万人参与的大规模市场活动，并在上市公司品牌管理方面积累了丰富经验。我深信这些实践经验能够为贵公司在品牌影响力提升、业务增长方面带来切实价值。

期待有机会能与您进一步交流，探讨我如何为团队贡献力量。
```

---

## 📊 Prompt 设计原则

### 1. System Prompt（角色定位）
- 明确AI的角色（招聘专家、HR顾问）
- 明确输出格式要求
- 明确限制条件（字数、不编造数据等）

### 2. User Prompt（任务指令）
- 结构化输入（简历信息、岗位要求）
- 清晰的任务要求
- 明确的输出格式

### 3. 质量控制
- **禁止编造**：不得生成简历中不存在的信息
- **字数限制**：核心优势≤18字，打招呼语≤200字
- **真诚专业**：避免套路化表达
- **关键词融入**：自然融入岗位关键词

---

## 🔧 技术实现要点

### 1. 超时控制
```java
// Stage B必须设置超时
Future<String> future = executor.submit(() -> generateGreeting());
String result = future.get(300, TimeUnit.SECONDS); // 5分钟超时
```

### 2. 响应清理
```java
// 移除可能的JSON格式、代码块等
response = response.replaceAll("```.*?```", "");
response = response.replaceAll("^(以下是|打招呼语[：:])\\s*", "");
```

### 3. 降级策略
```
智能打招呼 → (超时/失败) → 默认招呼语
```

---

## 📈 效果评估

### 成功标准
- ✅ AI返回纯文本打招呼语（无JSON、无解释）
- ✅ 打招呼语长度在50-200字之间
- ✅ 自然融入岗位关键词
- ✅ 突出候选人核心优势
- ✅ 语气真诚专业

### 失败处理
- ❌ AI超时（>5分钟）→ 使用默认招呼语
- ❌ AI返回格式错误 → 清理后使用或回退默认
- ❌ 未上传简历 → 直接使用默认招呼语

---

## 📝 使用示例

### 示例1：简历解析

**输入：**
```
张三
市场营销总监 | 18年经验

工作经历：
- 泛微网络 网络营销总监（2006-2024）
  主导构建销营一体数字化增长体系，助力公司营收从7亿到24亿

核心成就：
- 策划年度超6万人参与的市场活动
- 将AIGC应用于品牌推广实践
- 创作10K+营销文章

技能：
- B2B营销、渠道管理、团队管理、AIGC应用
```

**Stage A 输出：**
```json
{
  "name": "张三",
  "current_title": "市场营销总监",
  "years_experience": 18,
  "skills": ["B2B营销", "渠道管理", "团队管理", "AIGC应用"],
  "core_strengths": [
    "18年B2B营销经验",
    "销营一体增长体系",
    "年度6万人活动策划",
    "上市公司品牌管理",
    "AIGC品牌应用"
  ],
  "education": "未知",
  "company": "泛微网络",
  "confidence": {
    "name": 0.98,
    "skills": 0.95,
    "experience": 0.92
  }
}
```

### 示例2：智能打招呼语生成

**输入：**
- **候选人**：张三（Stage A解析结果）
- **岗位名称**：市场总监
- **岗位要求**：
  ```
  职位详情：
  负责公司市场战略规划与执行，带领团队完成市场目标
  
  岗位职责：
  1. 制定并实施市场营销策略
  2. 管理市场团队，提升团队能力
  3. 策划大型市场活动
  4. 负责品牌建设与推广
  
  任职要求：
  1. 10年以上B2B市场经验
  2. 具备数字化营销能力
  3. 有大型活动策划经验
  4. 优秀的团队管理能力
  ```

**Stage B 输出：**
```
您好，我对贵司的市场总监岗位非常感兴趣。我拥有18年B2B营销经验，核心优势在于构建"销营一体"的数字化增长体系。

曾成功主导年度超6万人参与的大型市场活动，这与岗位要求的活动策划能力高度契合。在团队管理方面，我具备从0到1搭建营销体系和高效能团队的实战经验。此外，我已将AIGC应用于品牌推广实践，能够为贵司的数字化营销战略带来创新价值。

期待有机会进一步交流，探讨如何为团队贡献力量。
```

---

## ⚠️ 重要提示

### 1. Prompt 稳定性
- System Prompt **写死在代码中**，不允许用户修改
- 确保AI始终按照规范输出

### 2. 数据真实性
- 所有信息必须来自简历
- 不得编造量化数据
- 如无具体数字，使用"提升""优化"等非量化表述

### 3. 性能优化
- Stage A：只在上传简历时调用一次
- Stage B：每个确定投递的岗位调用一次
- 超时控制：5分钟未响应自动降级

### 4. 错误处理
- AI响应异常 → 使用默认招呼语
- JSON解析失败 → 尝试清理后重新解析
- 简历未上传 → 禁用智能打招呼功能

---

**文档版本：** v1.0
**更新日期：** 2025-09-30
**适用模型：** DeepSeek Chat
