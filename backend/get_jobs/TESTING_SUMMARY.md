# æµ‹è¯•æ€»ç»“æŠ¥å‘Š

## ğŸ“Š æµ‹è¯•è¦†ç›–æƒ…å†µ

### å•å…ƒæµ‹è¯•ç»Ÿè®¡
- **æ€»æµ‹è¯•æ•°**: 112ä¸ª
- **é€šè¿‡**: 102ä¸ª
- **è·³è¿‡**: 10ä¸ªï¼ˆé›†æˆæµ‹è¯•ï¼Œéœ€è¦çœŸå®ç¯å¢ƒï¼‰
- **å¤±è´¥**: 0ä¸ª
- **é”™è¯¯**: 0ä¸ª

### æµ‹è¯•è¦†ç›–çš„æœåŠ¡ç±»

#### âœ… å·²å®Œæˆå•å…ƒæµ‹è¯•
1. **BossUtils** (44ä¸ªæµ‹è¯•)
   - è–ªèµ„è§£ç ã€å­—ç¬¦ä¸²éªŒè¯ã€è–ªèµ„èŒƒå›´è§£æç­‰å·¥å…·æ–¹æ³•
   - è¦†ç›–ç‡ï¼š66% æŒ‡ä»¤è¦†ç›–ç‡ï¼Œ60% åˆ†æ”¯è¦†ç›–ç‡

2. **BossBehaviorLogger** (8ä¸ªæµ‹è¯•)
   - ç”¨æˆ·è¡Œä¸ºè®°å½•ã€éªŒè¯ç é€šçŸ¥
   - ä½¿ç”¨Mockæ¨¡æ‹ŸBotæœåŠ¡

3. **BossBlacklistService** (13ä¸ªæµ‹è¯•)
   - é»‘åå•åŠ è½½ã€ä¿å­˜ã€æ£€æŸ¥
   - ä½¿ç”¨ä¸´æ—¶ç›®å½•æµ‹è¯•æ–‡ä»¶æ“ä½œ

4. **BossQuotaService** (6ä¸ªæµ‹è¯•)
   - é…é¢æ£€æŸ¥ã€é…é¢æ¶ˆè´¹
   - ä½¿ç”¨Mockæ¨¡æ‹ŸSpringä¸Šä¸‹æ–‡å’Œæ•°æ®åº“

5. **BossJobMatcher** (11ä¸ªæµ‹è¯•)
   - å…³é”®è¯åŒ¹é…ã€å²—ä½åŒ¹é…é€»è¾‘
   - å‚æ•°åŒ–æµ‹è¯•è¦†ç›–å¤šç§åœºæ™¯

6. **BossGreetingService** (5ä¸ªæµ‹è¯•)
   - æ‰“æ‹›å‘¼è¯­ç”Ÿæˆã€é»˜è®¤æ‹›å‘¼è¯­å¤„ç†

7. **BossJobSearchService** (7ä¸ªæµ‹è¯•)
   - æœç´¢URLæ„å»ºã€å‚æ•°è½¬æ¢
   - å‚æ•°åŒ–æµ‹è¯•è¦†ç›–ä¸åŒåŸå¸‚å’Œå‚æ•°ç»„åˆ

#### ğŸ”„ é›†æˆæµ‹è¯•æ¡†æ¶ï¼ˆéœ€è¦çœŸå®ç¯å¢ƒï¼‰
1. **BossDeliveryServiceIntegrationTest**
   - ç®€å†æŠ•é€’å®Œæ•´æµç¨‹
   - éœ€è¦çœŸå®çš„Bossç›´è˜ç¯å¢ƒå’Œç™»å½•çŠ¶æ€

2. **BossLoginServiceIntegrationTest**
   - ç™»å½•æµç¨‹ã€Cookieç®¡ç†
   - éœ€è¦çœŸå®çš„æµè§ˆå™¨ç¯å¢ƒ

## ğŸ¯ ä»£ç è¦†ç›–ç‡

### æ€»ä½“è¦†ç›–ç‡
- **æŒ‡ä»¤è¦†ç›–ç‡**: 3%
- **åˆ†æ”¯è¦†ç›–ç‡**: 2%
- **è¡Œè¦†ç›–ç‡**: 3%

### å…³é”®åŒ…è¦†ç›–ç‡
- **boss.util**: 66% æŒ‡ä»¤è¦†ç›–ç‡ï¼Œ60% åˆ†æ”¯è¦†ç›–ç‡ âœ…
- **boss.matcher**: 33% æŒ‡ä»¤è¦†ç›–ç‡ï¼Œ17% åˆ†æ”¯è¦†ç›–ç‡ âœ…
- **boss.service**: 9% æŒ‡ä»¤è¦†ç›–ç‡ï¼Œ6% åˆ†æ”¯è¦†ç›–ç‡

### è¦†ç›–ç‡æŠ¥å‘Šä½ç½®
- HTMLæŠ¥å‘Š: `target/site/jacoco/index.html`
- XMLæŠ¥å‘Š: `target/site/jacoco/jacoco.xml`
- æ‰§è¡Œæ•°æ®: `target/jacoco.exec`

## ğŸ”§ æµ‹è¯•å·¥å…·å’Œæ¡†æ¶

### æµ‹è¯•æ¡†æ¶
- **JUnit 5**: å•å…ƒæµ‹è¯•æ¡†æ¶
- **Mockito**: Mockæ¡†æ¶ï¼Œç”¨äºæ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–
- **JaCoCo**: ä»£ç è¦†ç›–ç‡å·¥å…·

### Mockä½¿ç”¨åœºæ™¯
1. **BossBehaviorLogger**: Mock `Bot.sendMessageByTime`
2. **BossQuotaService**: Mock `SpringContextUtil` å’Œ `QuotaService`
3. **BossJobMatcher**: Mock `BossConfig`
4. **BossGreetingService**: Mock `BossConfig`

## ğŸš€ CI/CDé›†æˆ

### GitHub Actionså·¥ä½œæµ
å·²æ›´æ–° `.github/workflows/code-quality.yml`ï¼ŒåŒ…å«ï¼š

1. **æµ‹è¯•æ‰§è¡Œ**
   ```yaml
   - name: è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
     run: |
       cd backend/get_jobs
       mvn clean test jacoco:report
   ```

2. **è¦†ç›–ç‡æ£€æŸ¥**
   ```yaml
   - name: JaCoCoè¦†ç›–ç‡æ£€æŸ¥
     run: |
       cd backend/get_jobs
       mvn jacoco:check
     continue-on-error: true
   ```

3. **è¦†ç›–ç‡æŠ¥å‘Šä¸Šä¼ **
   ```yaml
   - name: ä¸Šä¼ JaCoCoè¦†ç›–ç‡æŠ¥å‘Š
     uses: actions/upload-artifact@v3
     with:
       name: jacoco-coverage-report
       path: backend/get_jobs/target/site/jacoco/index.html
   ```

4. **Codecové›†æˆ**
   ```yaml
   - name: ä¸Šä¼ JaCoCoè¦†ç›–ç‡åˆ°Codecov
     uses: codecov/codecov-action@v3
     with:
       file: ./backend/get_jobs/target/site/jacoco/jacoco.xml
       flags: backend
   ```

## ğŸ“ è¿è¡Œæµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
cd backend/get_jobs
mvn clean test
```

### è¿è¡Œç‰¹å®šæµ‹è¯•ç±»
```bash
mvn test -Dtest=BossUtilsTest
```

### ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```bash
mvn test jacoco:report
```

### æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Š
```bash
open target/site/jacoco/index.html
```

### æ£€æŸ¥è¦†ç›–ç‡é˜ˆå€¼
```bash
mvn jacoco:check
```

## ğŸ”® åç»­æ”¹è¿›å»ºè®®

### 1. æé«˜è¦†ç›–ç‡
- ä¸º `boss.service` åŒ…ä¸­çš„å…¶ä»–æœåŠ¡ç±»æ·»åŠ æ›´å¤šæµ‹è¯•
- å¢åŠ è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸åœºæ™¯çš„æµ‹è¯•
- ç›®æ ‡ï¼šå°† `boss.service` åŒ…çš„è¦†ç›–ç‡æå‡åˆ° 30%+

### 2. é›†æˆæµ‹è¯•
- ä¸ºéœ€è¦ Playwright ç¯å¢ƒçš„æœåŠ¡åˆ›å»ºé›†æˆæµ‹è¯•
- ä½¿ç”¨ Docker å®¹å™¨æä¾›ç¨³å®šçš„æµ‹è¯•ç¯å¢ƒ
- è®¾ç½®æµ‹è¯•æ•°æ®å‡†å¤‡å’Œæ¸…ç†æµç¨‹

### 3. æ€§èƒ½æµ‹è¯•
- ä¸ºå…³é”®æœåŠ¡æ·»åŠ æ€§èƒ½æµ‹è¯•
- æµ‹è¯•å¹¶å‘åœºæ™¯ä¸‹çš„è¡Œä¸º

### 4. æŒç»­æ”¹è¿›
- åœ¨æ¯æ¬¡PRä¸­æ£€æŸ¥è¦†ç›–ç‡å˜åŒ–
- è®¾ç½®è¦†ç›–ç‡é˜ˆå€¼ï¼Œé˜²æ­¢è¦†ç›–ç‡ä¸‹é™
- å®šæœŸå®¡æŸ¥æµ‹è¯•ç”¨ä¾‹ï¼Œç¡®ä¿æµ‹è¯•è´¨é‡

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [JUnit 5 æ–‡æ¡£](https://junit.org/junit5/docs/current/user-guide/)
- [Mockito æ–‡æ¡£](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html)
- [JaCoCo æ–‡æ¡£](https://www.jacoco.org/jacoco/trunk/doc/)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)


