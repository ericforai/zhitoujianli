---
// Decap CMS 内容管理系统入口页面
import { getCollection } from 'astro:content';

// 这个页面提供可视化的博客内容管理界面
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex" />
    <title>智投简历博客 - 内容管理系统</title>
    <link rel="icon" href="/blog/favicon.ico" />
    <!-- Decap CMS 样式 -->
    <style>
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      }
      .loading {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-size: 18px;
        color: #666;
      }
    </style>
  </head>
  <body>
    <div class="loading" id="loading">
      正在加载内容管理系统...
    </div>
    
    <!-- Netlify Identity Widget (可选，用于身份验证) -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    
    <!-- Decap CMS 核心脚本 -->
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    
    <script>
      // 隐藏加载提示
      document.addEventListener('DOMContentLoaded', function() {
        setTimeout(() => {
          const loading = document.getElementById('loading');
          if (loading) {
            loading.style.display = 'none';
          }
        }, 2000);
      });

      // Decap CMS 将自动查找 /admin/config.yml 或者与页面同级的 config.yml
      // 我们需要确保配置文件在正确的位置
    </script>
  </body>
</html>