---
import '~/assets/styles/tailwind.css';

import { I18N } from 'astrowind:config';

import CommonMeta from '~/components/common/CommonMeta.astro';
import Favicons from '~/components/Favicons.astro';
import CustomStyles from '~/components/CustomStyles.astro';
import ApplyColorMode from '~/components/common/ApplyColorMode.astro';
import Metadata from '~/components/common/Metadata.astro';
import SiteVerification from '~/components/common/SiteVerification.astro';
import Analytics from '~/components/common/Analytics.astro';
import BasicScripts from '~/components/common/BasicScripts.astro';
import NetworkStatus from '~/components/common/NetworkStatus.astro';
import BackToTop from '~/components/common/BackToTop.astro';

// Comment the line below to disable View Transitions
import { ClientRouter } from 'astro:transitions';

import type { MetaData as MetaDataType } from '~/types';

export interface Props {
  metadata?: MetaDataType;
}

const { metadata = {} } = Astro.props;
const { language, textDirection } = I18N;
---

<!doctype html>
<html lang={language} dir={textDirection} class="2xl:text-[20px]">
  <head>
    <CommonMeta />
    <Favicons />
    <CustomStyles />
    <ApplyColorMode />
    <Metadata {...metadata} />
    <SiteVerification />
    <Analytics />

    <!-- Comment the line below to disable View Transitions -->
    <ClientRouter fallback="swap" />
  </head>

  <body class="antialiased text-default tracking-tight">
    <!-- ðŸŽ¨ ä¸Žä¸»ç½‘ç«™ä¸€è‡´çš„èƒŒæ™¯é£Žæ ¼ -->
    <div class="fixed inset-0 bg-gradient-to-br from-blue-50 via-white to-purple-50 -z-10">
      <!-- å·¦ä¾§å…‰æ–‘ï¼ˆè“è‰²ï¼‰ -->
      <div class="absolute left-0 top-1/3 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl"></div>
      <!-- å³ä¾§å…‰æ–‘ï¼ˆç´«è‰²ï¼‰ -->
      <div class="absolute right-0 top-1/4 w-80 h-80 bg-purple-400/10 rounded-full blur-3xl"></div>
      <!-- ä¸­å¤®å…‰æ–‘ï¼ˆè–„è·ç»¿ï¼‰ -->
      <div class="absolute left-1/2 bottom-1/4 w-72 h-72 bg-green-300/10 rounded-full blur-3xl"></div>
      <!-- å¾„å‘æ¸å˜å…‰æ™• -->
      <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-transparent via-blue-50/30 to-transparent"></div>
      <!-- å¾®å¦™ç½‘æ ¼çº¹ç† -->
      <div
        class="absolute inset-0 opacity-[0.03]"
        style="background-image: radial-gradient(circle at 1px 1px, rgb(0 0 0) 1px, transparent 0); background-size: 40px 40px;"
      ></div>
    </div>

    <div class="relative z-0">
      <slot />
    </div>

    <NetworkStatus />
    <BackToTop />
    <BasicScripts />
  </body>
</html>
