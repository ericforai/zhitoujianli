# 📖 手动测试指南

**测试目标**: 手动验证代码修复的功能
**测试人员**: 开发/QA
**测试时间**: 约30-45分钟

---

## 🔍 测试前准备

### 环境准备
- [ ] 前端开发服务器运行中 (`npm run start`)
- [ ] 后端服务运行中 (`mvn spring-boot:run`)
- [ ] 浏览器开发者工具已打开
- [ ] 网络连接正常

### 测试账号准备
- [ ] 准备测试邮箱账号
- [ ] 准备测试文件（PDF简历）

---

## 📋 测试用例

### 1. 前端类型安全测试

#### 1.1 IDE类型提示测试
**步骤**:
1. 在IDE中打开 `frontend/src/services/aiService.ts`
2. 找到 `getDeliveryConfig` 方法
3. 查看返回类型提示

**预期结果**:
- ✅ IDE显示返回类型为 `DeliveryConfig`
- ✅ 有完整的类型定义提示
- ✅ 没有 `any` 类型警告

#### 1.2 类型检查测试
**步骤**:
```bash
cd frontend
npm run type-check
```

**预期结果**:
- ✅ 无类型错误
- ✅ 关键文件无any类型警告

---

### 2. 错误处理统一测试

#### 2.1 SmartGreeting组件错误处理
**步骤**:
1. 访问首页，滚动到"智能化打招呼语"部分
2. 尝试上传一个无效文件（如.exe文件）
3. 观察错误提示

**预期结果**:
- ✅ 显示友好的错误提示（不是alert弹窗）
- ✅ 错误提示可以关闭
- ✅ 错误消息清晰明确

**测试场景**:
- [ ] 上传不支持的文件类型
- [ ] 上传超大文件（>10MB）
- [ ] 未上传简历就生成打招呼语
- [ ] 网络错误情况

#### 2.2 Register组件错误处理
**步骤**:
1. 访问注册页面
2. 输入无效邮箱格式
3. 点击发送验证码
4. 观察错误提示

**预期结果**:
- ✅ 错误消息友好
- ✅ 错误类型正确识别
- ✅ 不会出现类型错误

**测试场景**:
- [ ] 无效邮箱格式
- [ ] 网络错误
- [ ] 服务器错误响应

---

### 3. 空值检查测试

#### 3.1 SmartGreeting组件空值处理
**步骤**:
1. 上传一个不完整的简历（缺少某些字段）
2. 输入JD内容
3. 点击生成打招呼语

**预期结果**:
- ✅ 不会抛出运行时错误
- ✅ 使用默认值生成打招呼语
- ✅ 用户体验良好

**测试数据示例**:
```json
{
  "name": "Test",
  "years_experience": null,
  "current_title": null,
  "skills": []
}
```

---

### 4. API参数验证测试

#### 4.1 文件上传验证
**步骤**:
1. 在简历上传功能中测试以下场景：
   - 上传超大文件（>10MB）
   - 上传不支持的文件类型
   - 上传空文件

**预期结果**:
- ✅ 文件大小验证正确
- ✅ 文件类型验证正确
- ✅ 错误消息友好

#### 4.2 邮箱验证
**步骤**:
1. 在注册页面测试邮箱验证
2. 输入各种格式的邮箱

**预期结果**:
- ✅ 有效邮箱格式通过验证
- ✅ 无效邮箱格式被拒绝
- ✅ 错误消息清晰

---

### 5. 后端异常处理测试

#### 5.1 参数验证异常
**步骤**:
```bash
curl -X POST http://localhost:8080/api/test \
  -H "Content-Type: application/json" \
  -d '{"invalid": "data"}'
```

**预期结果**:
- ✅ 返回400错误
- ✅ 错误响应格式统一
- ✅ 包含友好的错误消息

#### 5.2 空指针异常处理
**步骤**:
1. 触发可能导致空指针的操作
2. 观察后端日志和响应

**预期结果**:
- ✅ 不会返回500错误给用户
- ✅ 返回友好的错误消息
- ✅ 后端日志记录详细错误

---

### 6. QuotaService测试

#### 6.1 空值处理测试
**步骤**:
1. 调用配额检查API
2. 模拟配额定义不存在的情况

**预期结果**:
- ✅ 不会抛出NullPointerException
- ✅ 返回合理的默认值
- ✅ 记录警告日志

---

## 📝 测试记录表

### 测试执行记录

| 测试项 | 测试时间 | 测试人员 | 结果 | 备注 |
|--------|---------|---------|------|------|
| IDE类型提示 | | | ✅/❌ | |
| 类型检查 | | | ✅/❌ | |
| SmartGreeting错误处理 | | | ✅/❌ | |
| Register错误处理 | | | ✅/❌ | |
| 空值检查 | | | ✅/❌ | |
| API参数验证 | | | ✅/❌ | |
| 后端异常处理 | | | ✅/❌ | |
| QuotaService测试 | | | ✅/❌ | |

### 问题记录

**问题1**: [描述]
- 发现时间: [时间]
- 严重程度: [高/中/低]
- 复现步骤: [步骤]
- 预期行为: [描述]
- 实际行为: [描述]
- 修复建议: [建议]

---

## 🎯 测试通过标准

### 必须通过
- ✅ 所有P0优先级测试通过
- ✅ 无类型错误
- ✅ 无编译错误
- ✅ 无Linter错误

### 应该通过
- ✅ 80%以上的功能测试通过
- ✅ 关键功能测试全部通过
- ✅ 错误处理正常工作

---

## 🚀 测试完成后

### 如果测试全部通过
1. ✅ 更新测试报告
2. ✅ 标记修复为完成
3. ✅ 准备部署

### 如果测试部分失败
1. ⚠️ 记录失败用例
2. ⚠️ 分析失败原因
3. ⚠️ 修复问题
4. ⚠️ 重新测试

---

**测试指南创建时间**: 2025-01-XX

