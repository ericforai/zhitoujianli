# 路由功能矩阵

**最后更新**: 2025-11-14
**维护者**: 开发团队

---

## 📋 说明

本文档列出所有前端路由及其功能，帮助开发团队：
- 了解每个路由的功能
- 确保功能在所有相关路由中实现
- 避免遗漏功能实现

---

## 🔐 认证相关路由

| 路由 | 功能 | 套餐信息 | 配额显示 | 备注 |
|------|------|---------|---------|------|
| `/login` | 用户登录 | ❌ | ❌ | 登录页面 |
| `/register` | 用户注册 | ❌ | ❌ | 注册页面 |

---

## 🏠 公开页面路由

| 路由 | 功能 | 套餐信息 | 配额显示 | 备注 |
|------|------|---------|---------|------|
| `/` | 首页 | ❌ | ❌ | 公开页面 |
| `/pricing` | 价格方案 | ✅ | ❌ | 显示套餐对比，需要知道当前套餐 |
| `/scenes` | 使用场景 | ❌ | ❌ | 公开页面 |
| `/contact` | 联系我们 | ❌ | ❌ | 公开页面 |
| `/terms` | 服务条款 | ❌ | ❌ | 公开页面 |
| `/privacy` | 隐私政策 | ❌ | ❌ | 公开页面 |
| `/help` | 帮助中心 | ❌ | ❌ | 公开页面 |
| `/guide` | 使用指南 | ❌ | ❌ | 公开页面 |

---

## 👤 用户功能路由（需要登录）

| 路由 | 功能 | 套餐信息 | 配额显示 | 备注 |
|------|------|---------|---------|------|
| `/dashboard` | 工作台 | ✅ | ✅ | **主要工作页面，包含完整套餐信息** |
| `/boss-delivery` | Boss投递 | ✅ | ✅ | **投递页面，需要显示套餐信息** |
| `/resume-delivery` | 简历投递 | ⚠️ | ⚠️ | 可能需要显示配额信息 |
| `/resume` | 简历管理 | ⚠️ | ⚠️ | 可能需要显示配额信息 |
| `/config` | 配置管理 | ⚠️ | ⚠️ | 可能需要显示套餐信息 |

**说明**:
- ✅ = 已实现
- ❌ = 不需要
- ⚠️ = 待确认/可能需要

---

## 🔧 管理员路由（需要管理员权限）

| 路由 | 功能 | 套餐信息 | 配额显示 | 备注 |
|------|------|---------|---------|------|
| `/admin/dashboard` | 管理仪表盘 | ❌ | ❌ | 管理员不需要查看自己的套餐 |
| `/admin/users` | 用户管理 | ✅ | ❌ | 显示用户的套餐类型 |
| `/admin/login-logs` | 登录日志 | ❌ | ❌ | 日志查看 |
| `/admin/features` | 功能开关 | ❌ | ❌ | 功能管理 |
| `/admin/system` | 系统配置 | ❌ | ❌ | 系统设置 |

---

## 📊 功能实现检查清单

### 套餐信息显示

需要显示套餐信息的页面：
- [x] `/dashboard` - 已实现（使用 `CollapsibleQuota`）
- [x] `/boss-delivery` - 已实现（使用 `CollapsibleQuota`）
- [ ] `/resume-delivery` - 待确认
- [ ] `/resume` - 待确认
- [ ] `/config` - 待确认
- [x] `/pricing` - 已实现（显示当前套餐）
- [x] `/admin/users` - 已实现（显示用户套餐类型）

### 配额使用情况显示

需要显示配额使用情况的页面：
- [x] `/dashboard` - 已实现（使用 `CollapsibleQuota`）
- [x] `/boss-delivery` - 已实现（使用 `CollapsibleQuota`）
- [ ] `/resume-delivery` - 待确认
- [ ] `/resume` - 待确认

---

## 🔄 登录后路由跳转

### 当前逻辑

```typescript
// frontend/src/contexts/AuthContext.tsx
if (isAdmin) {
  navigate('/admin/dashboard', { replace: true });
} else {
  navigate('/boss-delivery', { replace: true }); // 普通用户跳转到 /boss-delivery
}
```

### 建议改进

**方案1**: 统一跳转到 `/dashboard`
- 优点：`/dashboard` 包含完整信息，用户体验更好
- 缺点：需要修改跳转逻辑

**方案2**: 保持当前逻辑，但确保 `/boss-delivery` 也显示套餐信息（已实现）
- 优点：不需要修改跳转逻辑
- 缺点：需要维护两个页面的功能一致性

**当前状态**: 已实现方案2，两个页面都显示套餐信息

---

## 📝 维护说明

### 添加新路由时

1. 在本文档中添加新路由行
2. 标记是否需要套餐信息/配额显示
3. 如果需要在多个路由实现相同功能，使用可复用组件

### 修改功能时

1. 检查所有相关路由是否都需要修改
2. 更新本文档中的实现状态
3. 确保使用可复用组件，避免重复实现

### 定期检查

- 每月检查一次所有路由的功能实现情况
- 确保标记为"需要"的功能都已实现
- 更新待确认（⚠️）的状态

---

## 🔗 相关文档

- [套餐信息显示问题修复总结](./PLAN_DISPLAY_BUG_FIX_SUMMARY.md)
- [API返回格式规范](./API_RESPONSE_FORMAT.md)（待创建）
- [组件使用指南](../frontend/COMPONENT_USAGE.md)（待创建）

