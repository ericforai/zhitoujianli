# æ™ºæŠ•ç®€åŽ†ç™»å½•502é”™è¯¯ä¿®å¤æŠ¥å‘Š

## ðŸ” é—®é¢˜åˆ†æž
- **é”™è¯¯ç±»åž‹**: 502 Bad Gateway
- **æ ¹æœ¬åŽŸå› **: Nginxé…ç½®æ–‡ä»¶ä¸­ç¼ºå°‘ `upstream backend` å®šä¹‰
- **å½±å“èŒƒå›´**: æ‰€æœ‰ `/api/` è¯·æ±‚éƒ½æ— æ³•åˆ°è¾¾åŽç«¯æœåŠ¡å™¨

## âœ… ä¿®å¤æ–¹æ¡ˆ
å·²åˆ›å»ºä¿®å¤è„šæœ¬: `/root/zhitoujianli/manual_fix_502.sh`

## ðŸš€ ç«‹å³æ‰§è¡Œæ­¥éª¤

è¯·åœ¨æ–°çš„SSHç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# 1. åˆ›å»ºupstreamé…ç½®
cat > /etc/nginx/conf.d/zhitoujianli-backend.conf << 'EOF'
# æ™ºæŠ•ç®€åŽ†åŽç«¯upstreamé…ç½®
upstream backend {
    server 127.0.0.1:8080;
    keepalive 32;
}
EOF

# 2. æµ‹è¯•Nginxé…ç½®
nginx -t

# 3. é‡æ–°åŠ è½½Nginx
systemctl reload nginx

# 4. éªŒè¯ä¿®å¤
curl -I https://zhitoujianli.com/api/auth/login/email
```

## ðŸ“Š é¢„æœŸç»“æžœ
- âœ… 502é”™è¯¯æ¶ˆå¤±
- âœ… ç™»å½•åŠŸèƒ½æ¢å¤æ­£å¸¸
- âœ… æ‰€æœ‰APIè¯·æ±‚æ­£å¸¸å“åº”

## ðŸ” éªŒè¯æ­¥éª¤
1. è®¿é—® https://zhitoujianli.com
2. å°è¯•ç™»å½•åŠŸèƒ½
3. æ£€æŸ¥æµè§ˆå™¨æŽ§åˆ¶å°æ— 502é”™è¯¯
4. æŸ¥çœ‹Nginxé”™è¯¯æ—¥å¿—: `tail -f /var/log/nginx/zhitoujianli_error.log`

## âš ï¸ æ³¨æ„äº‹é¡¹
- ä¿®å¤è¿‡ç¨‹ä¸ä¼šå½±å“å½“å‰è¿è¡Œçš„BossæŠ•é€’ç¨‹åº
- ä¿®å¤åŽéœ€è¦é‡æ–°æµ‹è¯•ç™»å½•åŠŸèƒ½
- å¦‚æœ‰é—®é¢˜å¯ç«‹å³å›žæ»šNginxé…ç½®


