# 百度统计UTM参数配置指南

## 🔍 问题说明

百度统计中看不到UTM参数数据，是因为**百度统计的自定义变量需要在后台先配置**才能使用。

## ✅ 解决方案

百度统计提供了**三种方式**来跟踪UTM参数，推荐使用**方法1**（最简单）：

---

## 方法1：使用URL参数（推荐，无需配置）

### 原理
百度统计会自动识别URL中的UTM参数，无需任何后台配置。

### 使用方法
直接使用带UTM参数的链接即可：
```
https://zhitoujianli.com/register?utm_source=wechat&utm_medium=article&utm_campaign=launch_2025&utm_content=launch_article
```

### 查看数据
1. 登录 [百度统计](https://tongji.baidu.com/)
2. 左侧菜单：**来源分析** → **全部来源**
3. 点击 **"搜索词"** 或 **"外部链接"**
4. 可以看到完整的URL，包括UTM参数

### 优点
- ✅ 无需后台配置
- ✅ 自动识别URL参数
- ✅ 数据完整准确

### 缺点
- ❌ 无法直接按UTM参数筛选
- ❌ 需要手动分析URL

---

## 方法2：使用自定义变量（需要后台配置）

### 步骤1：在百度统计后台配置自定义变量

1. **登录百度统计**
   - 访问：https://tongji.baidu.com/
   - 选择你的网站

2. **进入自定义变量设置**
   - 左侧菜单：**管理** → **自定义变量**
   - 或者：**设置** → **自定义变量**

3. **创建自定义变量**

   创建以下5个自定义变量（访问级）：

   | 变量序号 | 变量名称 | 变量类型 | 说明 |
   |---------|---------|---------|------|
   | 1 | utm_source | 访问级 | UTM来源 |
   | 2 | utm_medium | 访问级 | UTM媒介 |
   | 3 | utm_campaign | 访问级 | UTM活动 |
   | 4 | utm_term | 访问级 | UTM关键词 |
   | 5 | utm_content | 访问级 | UTM内容 |

   **配置步骤：**
   - 点击 **"添加自定义变量"**
   - 变量名称：`utm_source`
   - 变量类型：选择 **"访问级"**
   - 变量说明：`UTM来源参数`
   - 点击 **"保存"**
   - 重复以上步骤，创建其他4个变量

4. **等待生效**
   - 配置后需要等待 **24小时** 才能看到数据
   - 或者等待新的访问产生

### 步骤2：查看自定义变量数据

1. **查看自定义变量报告**
   - 左侧菜单：**自定义变量**
   - 可以看到每个变量的值和访问次数

2. **筛选特定UTM参数**
   - 点击变量名称
   - 可以看到该变量的所有值
   - 例如：点击 `utm_source`，可以看到 `wechat` 的访问次数

### 优点
- ✅ 可以按UTM参数筛选和分组
- ✅ 数据展示更清晰
- ✅ 支持高级分析

### 缺点
- ❌ 需要后台配置
- ❌ 配置后需要等待24小时
- ❌ 最多只能配置5个变量

---

## 方法3：使用事件跟踪（无需配置）

### 原理
使用百度统计的事件跟踪功能，将UTM参数作为事件发送。

### 查看数据
1. 左侧菜单：**事件跟踪**
2. 查找事件类别：`utm_params`
3. 可以看到：
   - 事件动作：`utm_source`, `utm_medium` 等
   - 事件标签：对应的值（如 `wechat`, `article`）

### 优点
- ✅ 无需后台配置
- ✅ 可以跟踪多个UTM参数
- ✅ 数据实时可见

### 缺点
- ❌ 数据分散在事件跟踪中
- ❌ 需要手动组合分析

---

## 🎯 推荐方案

### 方案A：快速查看（推荐）
**使用方法1（URL参数）**
- 无需任何配置
- 直接使用带UTM参数的链接
- 在"来源分析"中查看完整URL

### 方案B：深度分析（推荐）
**使用方法2（自定义变量）+ 方法3（事件跟踪）**
- 配置自定义变量（需要等待24小时）
- 同时使用事件跟踪（实时可见）
- 两种方式结合使用，数据更全面

---

## 📊 数据查看位置

### 方法1：URL参数
- **位置**：来源分析 → 全部来源 → 搜索词/外部链接
- **查看**：完整的URL，包括UTM参数

### 方法2：自定义变量
- **位置**：自定义变量
- **查看**：每个变量的值和访问次数

### 方法3：事件跟踪
- **位置**：事件跟踪
- **查看**：事件类别 `utm_params`，事件动作和标签

---

## 🔧 代码已更新

我已经更新了代码，现在**同时使用三种方法**：
1. ✅ URL参数（自动识别）
2. ✅ 自定义变量（需要后台配置）
3. ✅ 事件跟踪（实时可见）

**即使不配置自定义变量，也能通过方法1和方法3查看数据！**

---

## 🚀 快速开始

### 步骤1：测试链接
访问以下链接：
```
https://zhitoujianli.com/register?utm_source=wechat&utm_medium=article&utm_campaign=launch_2025&utm_content=launch_article
```

### 步骤2：查看数据（方法1 - 无需配置）
1. 登录百度统计
2. 左侧菜单：**来源分析** → **全部来源**
3. 查看访问记录，URL中包含UTM参数

### 步骤3：查看数据（方法3 - 无需配置）
1. 左侧菜单：**事件跟踪**
2. 查找事件类别：`utm_params`
3. 查看UTM参数值

### 步骤4：配置自定义变量（可选）
1. 左侧菜单：**管理** → **自定义变量**
2. 创建5个自定义变量（见上方表格）
3. 等待24小时后查看数据

---

## ❓ 常见问题

### Q1: 为什么看不到自定义变量数据？
**A:** 自定义变量需要在后台先配置，配置后需要等待24小时才能看到数据。

### Q2: 不配置自定义变量能看到数据吗？
**A:** 可以！使用方法1（URL参数）和方法3（事件跟踪）无需配置即可查看。

### Q3: 哪种方法最好？
**A:** 推荐使用方法1（最简单）+ 方法3（实时可见）。如果需要深度分析，再配置方法2。

### Q4: 自定义变量配置后多久能看到数据？
**A:** 通常需要等待24小时，或者等待新的访问产生。

### Q5: 最多能配置多少个自定义变量？
**A:** 百度统计最多支持5个自定义变量。

---

## 📞 技术支持

如有问题，请联系技术支持团队。

