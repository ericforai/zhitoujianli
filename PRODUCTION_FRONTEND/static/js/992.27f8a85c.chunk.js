"use strict";(self.webpackChunkzhitoujianli_website=self.webpackChunkzhitoujianli_website||[]).push([[992],{7247:(e,s,a)=>{a.d(s,{_F:()=>l,jC:()=>n});var t=a(8957),r=a(8409);const l={getDeliveryConfig:async()=>(await r.A.get("/api/delivery/config/config")).data,updateDeliveryConfig:async e=>(await r.A.put("/api/delivery/config/config",e)).data,testDeliveryConfig:async e=>(await r.A.post("/api/delivery/config/config/test",e)).data,getBossConfig:async()=>(await r.A.get("/api/delivery/config/boss-config")).data,updateBossConfig:async e=>(await r.A.put("/api/delivery/config/boss-config",e)).data,getDeliveryStrategy:async()=>{const e=await r.A.get("/api/delivery/config/config"),s=e.data.data;return(0,t.A)((0,t.A)({},e.data),{},{data:s.deliveryStrategy})},updateDeliveryStrategy:async e=>{const s=(await r.A.get("/api/delivery/config")).data.data;s.deliveryStrategy=e;const a=await r.A.put("/api/delivery/config/config",s);return(0,t.A)((0,t.A)({},a.data),{},{data:e})},getGreetingConfig:async()=>{const e=await r.A.get("/api/delivery/config/config"),s=e.data.data;return(0,t.A)((0,t.A)({},e.data),{},{data:s.greetingConfig})},updateGreetingConfig:async e=>{const s=(await r.A.get("/api/delivery/config")).data.data;s.greetingConfig=e;const a=await r.A.put("/api/delivery/config/config",s);return(0,t.A)((0,t.A)({},a.data),{},{data:e})},getBlacklistConfig:async()=>(await r.A.get("/api/delivery/config/blacklist")).data,addBlacklistItem:async(e,s)=>(await r.A.post("/api/delivery/config/blacklist",{type:e,value:s})).data,deleteBlacklistItem:async e=>(await r.A.delete("/api/delivery/config/blacklist/".concat(e))).data},n={validateBossConfig:e=>{const s=[];return e.keywords&&0!==e.keywords.length||s.push("\u641c\u7d22\u5173\u952e\u8bcd\u4e0d\u80fd\u4e3a\u7a7a"),e.cities&&0!==e.cities.length||s.push("\u57ce\u5e02\u4e0d\u80fd\u4e3a\u7a7a"),e.salaryRange&&(e.salaryRange.minSalary<0&&s.push("\u6700\u4f4e\u85aa\u8d44\u4e0d\u80fd\u4e3a\u8d1f\u6570"),e.salaryRange.maxSalary<e.salaryRange.minSalary&&s.push("\u6700\u9ad8\u85aa\u8d44\u4e0d\u80fd\u4f4e\u4e8e\u6700\u4f4e\u85aa\u8d44")),{valid:0===s.length,errors:s}},validateDeliveryStrategy:e=>{const s=[];return e.deliveryFrequency<=0&&s.push("\u6295\u9012\u9891\u7387\u5fc5\u987b\u5927\u4e8e0"),e.maxDailyDelivery<=0&&s.push("\u6bcf\u65e5\u6700\u5927\u6295\u9012\u6570\u5fc5\u987b\u5927\u4e8e0"),e.deliveryInterval<0&&s.push("\u6295\u9012\u95f4\u9694\u4e0d\u80fd\u4e3a\u8d1f\u6570"),(e.matchThreshold<0||e.matchThreshold>1)&&s.push("\u5339\u914d\u5ea6\u9608\u503c\u5fc5\u987b\u57280-1\u4e4b\u95f4"),{valid:0===s.length,errors:s}},validateGreetingConfig:e=>{const s=[];return e.maxLength<=0&&s.push("\u6253\u62db\u547c\u8bed\u957f\u5ea6\u9650\u5236\u5fc5\u987b\u5927\u4e8e0"),e.defaultGreeting&&e.defaultGreeting.length>e.maxLength&&s.push("\u9ed8\u8ba4\u6253\u62db\u547c\u8bed\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7".concat(e.maxLength,"\u5b57\u7b26")),{valid:0===s.length,errors:s}}}},8409:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(1966),r=a(5055);const l=t.A.create({baseURL:r.Ay.apiBaseUrl,timeout:r.Ay.requestTimeout,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{const s=localStorage.getItem(r.PT.TOKEN_KEY)||localStorage.getItem(r.PT.AUTH_TOKEN_KEY);return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{var s,a,t,l;return e.response?((401===(null===(s=e.response)||void 0===s?void 0:s.status)||302===(null===(a=e.response)||void 0===a?void 0:a.status)||null!==(t=e.response)&&void 0!==t&&null!==(l=t.data)&&void 0!==l&&l.message&&(e.response.data.message.includes("\u9700\u8981\u767b\u5f55\u8ba4\u8bc1")||e.response.data.message.includes("\u7528\u6237\u672a\u767b\u5f55")))&&(console.log("\ud83d\udd10 \u68c0\u6d4b\u5230\u8ba4\u8bc1\u9519\u8bef\uff0c\u6e05\u9664\u672c\u5730\u5b58\u50a8\u5e76\u91cd\u5b9a\u5411\u5230\u767b\u5f55\u9875"),localStorage.removeItem(r.PT.TOKEN_KEY),localStorage.removeItem(r.PT.AUTH_TOKEN_KEY),localStorage.removeItem(r.PT.USER_KEY),"/login"!==window.location.pathname&&(window.location.href=(0,r.fx)())),Promise.reject(e)):(console.error("\u7f51\u7edc\u9519\u8bef\u6216\u670d\u52a1\u5668\u65e0\u54cd\u5e94:",e.message),Promise.reject(e))});const n=l},9992:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(8957),r=a(8878),l=a(7247),n=a(782);const i=e=>{var s,a,i;let{config:o,onConfigChange:d,loading:c=!1}=e;const[u,m]=(0,r.useState)(o),[g,x]=(0,r.useState)({}),[h,p]=(0,r.useState)(""),[b,y]=(0,r.useState)("");(0,r.useEffect)(()=>{m(o)},[o]);const f=(e,s)=>{const a=(0,t.A)((0,t.A)({},u),{},{[e]:s});m(a),g[e]&&x(s=>(0,t.A)((0,t.A)({},s),{},{[e]:""})),d(a)},v=()=>{if(h.trim()){const e=[...u.keywords||[],h.trim()];f("keywords",e),p("")}},j=()=>{if(b.trim()){const e=[...u.cities||[],b.trim()];f("cities",e),y("")}},N=(e,s)=>{const a=(0,t.A)((0,t.A)({},u.salaryRange),{},{[e]:s});f("salaryRange",a)};return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Boss\u76f4\u8058\u914d\u7f6e"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"\u914d\u7f6e\u641c\u7d22\u5173\u952e\u8bcd\u3001\u57ce\u5e02\u3001\u85aa\u8d44\u7b49\u6295\u9012\u53c2\u6570"})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u641c\u7d22\u5173\u952e\u8bcd ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"\ud83d\udca1 \u7cfb\u7edf\u5c06\u641c\u7d22\u5305\u542b\u4ee5\u4e0b\u4efb\u610f\u5173\u952e\u8bcd\u7684\u5c97\u4f4d\uff08\u6216\u7684\u5173\u7cfb\uff09"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),onKeyPress:e=>"Enter"===e.key&&v(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"\u8f93\u5165\u5173\u952e\u8bcd\uff0c\u5982\uff1aJava\u5f00\u53d1\u3001\u524d\u7aef\u5de5\u7a0b\u5e08",disabled:c}),(0,n.jsx)("button",{type:"button",onClick:v,disabled:c||!h.trim(),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"\u6dfb\u52a0"})]}),u.keywords&&u.keywords.length>0&&(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,n.jsxs)("div",{className:"flex items-center mb-2",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\u5df2\u6dfb\u52a0\u7684\u5173\u952e\u8bcd\uff1a"}),(0,n.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(\u5171",u.keywords.length,"\u4e2a)"]})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:u.keywords.map((e,s)=>(0,n.jsxs)("div",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200",children:[(0,n.jsx)("span",{className:"mr-2",children:"\ud83d\udd0d"}),e,(0,n.jsx)("button",{type:"button",onClick:()=>(e=>{var s;const a=(null===(s=u.keywords)||void 0===s?void 0:s.filter((s,a)=>a!==e))||[];f("keywords",a)})(s),className:"ml-2 text-blue-600 hover:text-red-600 hover:bg-red-100 rounded-full p-1 transition-colors",disabled:c,title:"\u5220\u9664\u6b64\u5173\u952e\u8bcd",children:"\xd7"})]},s))}),(0,n.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"\ud83d\udca1 \u7cfb\u7edf\u5c06\u641c\u7d22\u5305\u542b\u4ee5\u4e0a\u4efb\u610f\u5173\u952e\u8bcd\u7684\u5c97\u4f4d"})]}),g.error_0&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:g.error_0})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u76ee\u6807\u57ce\u5e02 ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"\ud83d\udca1 \u7cfb\u7edf\u5c06\u641c\u7d22\u4ee5\u4e0b\u4efb\u610f\u57ce\u5e02\u7684\u5c97\u4f4d\uff08\u6216\u7684\u5173\u7cfb\uff09"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("input",{type:"text",value:b,onChange:e=>y(e.target.value),onKeyPress:e=>"Enter"===e.key&&j(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"\u8f93\u5165\u57ce\u5e02\u540d\u79f0\uff0c\u5982\uff1a\u5317\u4eac\u3001\u4e0a\u6d77\u3001\u6df1\u5733",disabled:c}),(0,n.jsx)("button",{type:"button",onClick:j,disabled:c||!b.trim(),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"\u6dfb\u52a0"})]}),u.cities&&u.cities.length>0&&(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,n.jsxs)("div",{className:"flex items-center mb-2",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\u5df2\u6dfb\u52a0\u7684\u57ce\u5e02\uff1a"}),(0,n.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(\u5171",u.cities.length,"\u4e2a)"]})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:u.cities.map((e,s)=>(0,n.jsxs)("div",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-green-100 text-green-800 border border-green-200",children:[(0,n.jsx)("span",{className:"mr-2",children:"\ud83d\udccd"}),e,(0,n.jsx)("button",{type:"button",onClick:()=>(e=>{var s;const a=(null===(s=u.cities)||void 0===s?void 0:s.filter((s,a)=>a!==e))||[];f("cities",a)})(s),className:"ml-2 text-green-600 hover:text-red-600 hover:bg-red-100 rounded-full p-1 transition-colors",disabled:c,title:"\u5220\u9664\u6b64\u57ce\u5e02",children:"\xd7"})]},s))}),(0,n.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"\ud83d\udca1 \u7cfb\u7edf\u5c06\u641c\u7d22\u4ee5\u4e0a\u4efb\u610f\u57ce\u5e02\u7684\u5c97\u4f4d"})]}),g.error_1&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:g.error_1})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u85aa\u8d44\u8303\u56f4"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"\u6700\u4f4e\u85aa\u8d44"}),(0,n.jsx)("input",{type:"number",min:"0",value:(null===(s=u.salaryRange)||void 0===s?void 0:s.minSalary)||"",onChange:e=>N("minSalary",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"\u5982\uff1a10",disabled:c})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"\u6700\u9ad8\u85aa\u8d44"}),(0,n.jsx)("input",{type:"number",min:"0",value:(null===(a=u.salaryRange)||void 0===a?void 0:a.maxSalary)||"",onChange:e=>N("maxSalary",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"\u5982\uff1a30",disabled:c})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"\u5355\u4f4d"}),(0,n.jsxs)("select",{value:(null===(i=u.salaryRange)||void 0===i?void 0:i.unit)||"K",onChange:e=>N("unit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c,children:[(0,n.jsx)("option",{value:"K",children:"K"}),(0,n.jsx)("option",{value:"W",children:"W"})]})]})]}),g.error_2&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:g.error_2})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u5de5\u4f5c\u7ecf\u9a8c\u8981\u6c42"}),(0,n.jsxs)("select",{value:u.experienceRequirement||"",onChange:e=>f("experienceRequirement",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c,children:[(0,n.jsx)("option",{value:"",children:"\u4e0d\u9650"}),(0,n.jsx)("option",{value:"1\u5e74\u4ee5\u4e0b",children:"1\u5e74\u4ee5\u4e0b"}),(0,n.jsx)("option",{value:"1-3\u5e74",children:"1-3\u5e74"}),(0,n.jsx)("option",{value:"3-5\u5e74",children:"3-5\u5e74"}),(0,n.jsx)("option",{value:"5-10\u5e74",children:"5-10\u5e74"}),(0,n.jsx)("option",{value:"10\u5e74\u4ee5\u4e0a",children:"10\u5e74\u4ee5\u4e0a"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u5b66\u5386\u8981\u6c42"}),(0,n.jsxs)("select",{value:u.educationRequirement||"",onChange:e=>f("educationRequirement",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c,children:[(0,n.jsx)("option",{value:"",children:"\u4e0d\u9650"}),(0,n.jsx)("option",{value:"\u9ad8\u4e2d",children:"\u9ad8\u4e2d"}),(0,n.jsx)("option",{value:"\u5927\u4e13",children:"\u5927\u4e13"}),(0,n.jsx)("option",{value:"\u672c\u79d1",children:"\u672c\u79d1"}),(0,n.jsx)("option",{value:"\u7855\u58eb",children:"\u7855\u58eb"}),(0,n.jsx)("option",{value:"\u535a\u58eb",children:"\u535a\u58eb"})]})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",id:"enableSmartGreeting",checked:u.enableSmartGreeting||!1,onChange:e=>f("enableSmartGreeting",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:c}),(0,n.jsx)("label",{htmlFor:"enableSmartGreeting",className:"ml-2 block text-sm text-gray-700",children:"\u542f\u7528\u667a\u80fd\u6253\u62db\u547c\u8bed\u751f\u6210\uff08\u57fa\u4e8e\u7b80\u5386+JD\uff09"})]})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u9ed8\u8ba4\u6253\u62db\u547c\u8bed"}),(0,n.jsx)("textarea",{value:u.defaultGreeting||"",onChange:e=>f("defaultGreeting",e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"\u8bf7\u8f93\u5165\u9ed8\u8ba4\u7684\u6253\u62db\u547c\u8bed\u5185\u5bb9...",disabled:c}),(0,n.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"\u5f53\u667a\u80fd\u6253\u62db\u547c\u8bed\u751f\u6210\u5931\u8d25\u65f6\uff0c\u5c06\u4f7f\u7528\u6b64\u9ed8\u8ba4\u5185\u5bb9"})]})]}),(0,n.jsx)("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200",children:(0,n.jsx)("button",{type:"button",onClick:()=>{(()=>{const e=l.jC.validateBossConfig(u);if(!e.valid){const s={};return e.errors.forEach((e,a)=>{s["error_".concat(a)]=e}),x(s),!1}return x({}),!0})()&&d(u)},disabled:c,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"\u4fdd\u5b58\u4e2d...":"\u4fdd\u5b58\u914d\u7f6e"})})]})}}}]);