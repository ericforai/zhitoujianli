"use strict";(self.webpackChunkzhitoujianli_website=self.webpackChunkzhitoujianli_website||[]).push([[919],{5919:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(8878),r=s(2819),i=s(8667),n=s(782);const o=i.Ay.createChild("Login"),l=()=>{const{login:e}=(0,r.As)(),[t,s]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)(""),[h,x]=(0,a.useState)("");return(0,n.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 py-12 px-4",children:[(0,n.jsx)("div",{className:"absolute top-6 left-6 flex items-center gap-3 animate-fade-in",children:(0,n.jsxs)("a",{href:"/",className:"flex items-center gap-3 group",children:[(0,n.jsx)("img",{src:"/images/logo.png",alt:"\u667a\u6295\u7b80\u5386",className:"h-10 w-auto transition-transform duration-200 group-hover:scale-105"}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 font-inter leading-tight",children:"\u667a\u6295\u7b80\u5386"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 font-medium leading-tight",children:"\u667a\u80fd\u5316\u6c42\u804c\u6295\u9012\u5e73\u53f0"})]})]})}),(0,n.jsxs)("div",{className:"w-full max-w-md",children:[(0,n.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-8",children:[(0,n.jsx)("div",{className:"text-center mb-8",children:(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-900 font-inter",children:"admin"===t?"\u7ba1\u7406\u5458\u767b\u5f55":"\u90ae\u7bb1\u767b\u5f55"})}),m&&(0,n.jsx)("div",{className:"mb-6 p-4 bg-red-50/80 backdrop-blur-sm border border-red-200/50 rounded-xl text-red-700 text-sm font-medium",children:m}),h&&(0,n.jsx)("div",{className:"mb-6 p-4 bg-green-50/80 backdrop-blur-sm border border-green-200/50 rounded-xl text-green-700 text-sm font-medium",children:h}),(0,n.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),u(""),c(!0);try{if("admin"===t){o.info("\u5f00\u59cb\u7ba1\u7406\u5458\u767b\u5f55",{username:t});try{const e=await fetch("".concat("undefined"!==typeof window?"zhitoujianli.com"===window.location.hostname||"www.zhitoujianli.com"===window.location.hostname?"https://zhitoujianli.com":"/api":"http://localhost:8080","/api/admin/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,username:t,password:i})}),s=await e.json();if(s.success&&s.token)return localStorage.setItem("authToken",s.token),localStorage.setItem("userType","admin"),x("\u7ba1\u7406\u5458\u767b\u5f55\u6210\u529f\uff01\u6b63\u5728\u8df3\u8f6c..."),o.info("\u7ba1\u7406\u5458\u767b\u5f55\u6210\u529f"),void setTimeout(()=>{window.location.href="/admin/dashboard"},1e3);throw new Error(s.message||"\u7ba1\u7406\u5458\u767b\u5f55\u5931\u8d25")}catch(d){var a,r;o.error("\u7ba1\u7406\u5458\u767b\u5f55\u5931\u8d25",d);const e=(null===(a=d.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||d.message||"\u7ba1\u7406\u5458\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7528\u6237\u540d\u548c\u5bc6\u7801";return void u(e)}}o.info("\u5f00\u59cb\u90ae\u7bb1\u767b\u5f55",{email:t}),await e(t,i),x("\u767b\u5f55\u6210\u529f\uff01\u6b63\u5728\u8df3\u8f6c..."),o.info("\u7528\u6237\u767b\u5f55\u6210\u529f")}catch(m){var n,l;o.error("\u767b\u5f55\u5931\u8d25",m);const e=(null===(n=m.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)||m.message||"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5";u(e)}finally{c(!1)}},className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3 font-inter",children:"\u90ae\u7bb1\u5730\u5740"}),(0,n.jsx)("input",{id:"email",type:"admin"===t?"text":"email",required:!0,value:t,onChange:e=>{const t=e.target.value;s(t),"admin"===t&&u("")},className:"w-full px-4 py-4 bg-white/60 backdrop-blur-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400 transition-all duration-300 text-base font-inter placeholder-gray-400 hover:bg-white/80",placeholder:"admin"===t?"admin\uff08\u7ba1\u7406\u5458\uff09":"your@email.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3 font-inter",children:"\u5bc6\u7801"}),(0,n.jsx)("input",{id:"password",type:"password",required:!0,value:i,onChange:e=>l(e.target.value),className:"w-full px-4 py-4 bg-white/60 backdrop-blur-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400 transition-all duration-300 text-base font-inter placeholder-gray-400 hover:bg-white/80",placeholder:"\u81f3\u5c116\u4f4d"})]}),(0,n.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] transform transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-inter text-lg",children:d?(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u767b\u5f55\u4e2d..."]}):"\u767b\u5f55"})]}),(0,n.jsxs)("div",{className:"mt-8 text-center",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600 font-inter",children:"\u8fd8\u6ca1\u6709\u8d26\u53f7\uff1f"}),(0,n.jsx)("a",{href:"/register",className:"ml-1 text-sm font-medium text-blue-600 hover:text-blue-700 hover:underline transition-all duration-200 font-inter",children:"\u7acb\u5373\u6ce8\u518c"})]})]}),(0,n.jsxs)("div",{className:"text-center text-xs text-gray-500 mt-8 font-inter",children:[(0,n.jsx)("p",{className:"mb-2",children:"\u767b\u5f55\u5373\u8868\u793a\u540c\u610f"}),(0,n.jsxs)("div",{className:"space-x-1",children:[(0,n.jsx)("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors duration-200",children:"\u7528\u6237\u534f\u8bae"}),(0,n.jsx)("span",{children:"\u548c"}),(0,n.jsx)("a",{href:"/privacy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors duration-200",children:"\u9690\u79c1\u653f\u7b56"})]})]})]})]})}}}]);