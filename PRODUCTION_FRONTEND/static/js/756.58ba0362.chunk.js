"use strict";(self.webpackChunkzhitoujianli_website=self.webpackChunkzhitoujianli_website||[]).push([[756],{386:(e,t,s)=>{s.d(t,{P:()=>i});var a=s(8957),r=s(8878),o=s(1966),n=s(5055);const c=o.A.create({baseURL:n.Ay.apiBaseUrl,timeout:n.Ay.requestTimeout,headers:{"Content-Type":"application/json"}});c.interceptors.request.use(e=>{const t=localStorage.getItem(n.PT.TOKEN_KEY)||localStorage.getItem(n.PT.AUTH_TOKEN_KEY);return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));const l={startBossTask:async()=>{try{return(await c.post("/boss/start-task")).data}catch(s){var e,t;throw console.error("\u542f\u52a8Boss\u4efb\u52a1\u5931\u8d25:",s),new Error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"\u542f\u52a8Boss\u4efb\u52a1\u5931\u8d25")}},stopBossTask:async()=>{try{return(await c.post("/boss/stop-task")).data}catch(s){var e,t;throw console.error("\u505c\u6b62Boss\u4efb\u52a1\u5931\u8d25:",s),new Error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"\u505c\u6b62Boss\u4efb\u52a1\u5931\u8d25")}},getBossStatus:async()=>{try{return(await c.get("/boss/status")).data}catch(s){var e,t;throw console.error("\u83b7\u53d6Boss\u72b6\u6001\u5931\u8d25:",s),new Error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"\u83b7\u53d6\u72b6\u6001\u5931\u8d25")}},getBossLogs:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;try{return(await c.get("/boss/logs?lines=".concat(e))).data}catch(a){var t,s;throw console.error("\u83b7\u53d6Boss\u65e5\u5fd7\u5931\u8d25:",a),new Error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"\u83b7\u53d6\u65e5\u5fd7\u5931\u8d25")}},getUserConfig:async()=>{try{return(await c.get("/boss/config")).data}catch(s){var e,t;throw console.error("\u83b7\u53d6\u7528\u6237\u914d\u7f6e\u5931\u8d25:",s),new Error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"\u83b7\u53d6\u914d\u7f6e\u5931\u8d25")}},saveUserConfig:async e=>{try{return(await c.post("/boss/save-config",e)).data}catch(a){var t,s;throw console.error("\u4fdd\u5b58\u7528\u6237\u914d\u7f6e\u5931\u8d25:",a),new Error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"\u4fdd\u5b58\u914d\u7f6e\u5931\u8d25")}}},i=()=>{const[e,t]=(0,r.useState)({isRunning:!1}),[s,o]=(0,r.useState)(!1),[n,c]=(0,r.useState)(""),[i,d]=(0,r.useState)([]),u=async()=>{try{const e=await l.getBossStatus();t(e)}catch(e){console.error("\u83b7\u53d6\u72b6\u6001\u5931\u8d25:",e)}};return(0,r.useEffect)(()=>{u();const e=setInterval(u,3e4);return()=>clearInterval(e)},[]),{status:e,loading:s,message:n,logs:i,fetchStatus:u,fetchLogs:async()=>{try{const e=await fetch("/api/delivery/logs?lines=100",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=await e.json();t.success&&t.data.logs?d(t.data.logs):d(["\u6682\u65e0\u65e5\u5fd7\u6570\u636e"])}catch(e){console.error("\u83b7\u53d6\u65e5\u5fd7\u5931\u8d25:",e),d(["\u83b7\u53d6\u65e5\u5fd7\u5931\u8d25: "+e.message])}},handleStart:async()=>{o(!0),c("");try{const e=await fetch("/api/delivery/start",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=await e.json();t.success?(c("Boss\u6295\u9012\u4efb\u52a1\u542f\u52a8\u6210\u529f\uff01\u5f00\u59cb\u81ea\u52a8\u6295\u9012\u7b80\u5386..."),setTimeout(()=>{u()},1e3)):c("\u542f\u52a8\u5931\u8d25: ".concat(t.message))}catch(e){c("\u542f\u52a8\u5931\u8d25: ".concat(e.message))}finally{o(!1)}},handleStop:async()=>{o(!0),c("");try{const e=await fetch("/api/delivery/stop",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),s=await e.json();s.success?(c("Boss\u6295\u9012\u4efb\u52a1\u5df2\u505c\u6b62"),t(e=>(0,a.A)((0,a.A)({},e),{},{isRunning:!1})),setTimeout(()=>{u()},500),setTimeout(()=>{u()},2e3)):c("\u505c\u6b62\u5931\u8d25: ".concat(s.message))}catch(e){c("\u505c\u6b62\u5931\u8d25: ".concat(e.message))}finally{o(!1)}}}}},1304:(e,t,s)=>{s.d(t,{p:()=>o});var a=s(8957),r=s(8878);const o=()=>{const[e,t]=(0,r.useState)({showQRModal:!1,qrCodeUrl:"",loginStatus:"not_started",qrcodeCheckInterval:null}),s=async()=>{try{const e=(new Date).getTime(),s="/api/boss/login/qrcode?format=base64&t=".concat(e),r=async()=>{var e,t,a;const r=await fetch(s,{headers:{Accept:"application/json"}});if(404===r.status)throw new Error("404");if(!r.ok)throw new Error("status:".concat(r.status));const o=await r.json();if("string"===typeof o)return o;const n=(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.qrcodeBase64)||(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.image)||(null===o||void 0===o?void 0:o.qrcodeBase64)||(null===o||void 0===o?void 0:o.image)||null;return n&&(null===(a=null===o||void 0===o?void 0:o.success)||void 0===a||a)?n:null},o=await async function(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=0;for(;a<s;)try{return await e()}catch(o){var r;t=o;const e=((null===o||void 0===o?void 0:o.message)||"").includes("ERR_HTTP2_PROTOCOL_ERROR"),s=null===o||void 0===o||null===(r=o.response)||void 0===r?void 0:r.status;if(s&&s<500&&!e)break;const n=Math.min(4e3,500*Math.pow(2,a));await new Promise(e=>setTimeout(e,n)),a+=1}throw t}(r,4).catch(e=>{if(String(null===e||void 0===e?void 0:e.message).includes("404"))return null;throw e});if(o){const e=o.startsWith("data:")?o:"data:image/png;base64,".concat(o);t(t=>(0,a.A)((0,a.A)({},t),{},{qrCodeUrl:e})),console.log("\u4e8c\u7ef4\u7801\u5df2\u52a0\u8f7d(base64)")}else console.debug("\u4e8c\u7ef4\u7801\u672a\u5c31\u7eea\uff0c\u7b49\u5f85\u4e0b\u4e00\u6b21\u8f6e\u8be2")}catch(e){console.error("\u52a0\u8f7d\u4e8c\u7ef4\u7801\u5931\u8d25:",e)}},o=async()=>{try{const s=await fetch("/api/boss/login/status"),r=await s.json();switch(r.isInProgress&&r.elapsedSeconds&&console.log("\u767b\u5f55\u6d41\u7a0b\u8fdb\u884c\u4e2d: ".concat(r.elapsedSeconds,"\u79d2")),t(e=>(0,a.A)((0,a.A)({},e),{},{loginStatus:r.status})),r.status){case"success":e.qrcodeCheckInterval&&(clearInterval(e.qrcodeCheckInterval),t(e=>(0,a.A)((0,a.A)({},e),{},{qrcodeCheckInterval:null}))),setTimeout(()=>{t(e=>(0,a.A)((0,a.A)({},e),{},{showQRModal:!1}))},2e3);break;case"failed":e.qrcodeCheckInterval&&(clearInterval(e.qrcodeCheckInterval),t(e=>(0,a.A)((0,a.A)({},e),{},{qrcodeCheckInterval:null})))}}catch(s){console.error("\u68c0\u67e5\u767b\u5f55\u72b6\u6001\u5931\u8d25:",s)}},n=()=>{e.qrcodeCheckInterval&&clearInterval(e.qrcodeCheckInterval),s(),o();const r=setInterval(()=>{s(),o()},2e3);t(e=>(0,a.A)((0,a.A)({},e),{},{qrcodeCheckInterval:r}))},c=async()=>{try{t(e=>(0,a.A)((0,a.A)({},e),{},{showQRModal:!0,qrCodeUrl:"",loginStatus:"not_started"}));const e=await fetch("/api/boss/login/start",{method:"POST",headers:{"Content-Type":"application/json"}}),s=await e.json();s.success?(console.log("\u767b\u5f55\u6d41\u7a0b\u5df2\u542f\u52a8"),t(e=>(0,a.A)((0,a.A)({},e),{},{loginStatus:"waiting"})),n()):"in_progress"===s.status?(t(e=>(0,a.A)((0,a.A)({},e),{},{loginStatus:"waiting"})),n()):t(e=>(0,a.A)((0,a.A)({},e),{},{showQRModal:!1}))}catch(e){console.error("\u542f\u52a8\u767b\u5f55\u5931\u8d25:",e),t(e=>(0,a.A)((0,a.A)({},e),{},{showQRModal:!1}))}};return(0,r.useEffect)(()=>()=>{e.qrcodeCheckInterval&&clearInterval(e.qrcodeCheckInterval)},[e.qrcodeCheckInterval]),{showQRModal:e.showQRModal,qrCodeUrl:e.qrCodeUrl,loginStatus:e.loginStatus,handleQRCodeLogin:c,closeQRModal:()=>{t(e=>(0,a.A)((0,a.A)({},e),{},{showQRModal:!1})),e.qrcodeCheckInterval&&(clearInterval(e.qrcodeCheckInterval),t(e=>(0,a.A)((0,a.A)({},e),{},{qrcodeCheckInterval:null})))},refreshQRCode:()=>{t(e=>(0,a.A)((0,a.A)({},e),{},{qrCodeUrl:"",loginStatus:"not_started"})),c()}}}},1756:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var a=s(8878),r=s(3780),o=s(1906),n=s(2656),c=s(7753),l=s(7132),i=s(7248),d=s(2819),u=s(386),h=s(5735),g=s(1304),m=s(8667),x=s(782);const v=e=>{let{title:t,value:s,icon:a}=e;return(0,x.jsx)(n.A,{children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:t}),(0,x.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s})]}),(0,x.jsx)("div",{className:"text-3xl",children:a})]})})},b=()=>{const e=(0,r.Zp)(),{user:t,isAuthenticated:s,isLoading:b}=(0,d.As)(),p=m.Ay.createChild("Dashboard:Auth"),{showQRModal:f,qrCodeUrl:y,loginStatus:j,handleQRCodeLogin:w,closeQRModal:N,refreshQRCode:A}=(0,g.p)(),{status:C,message:k,logs:I,fetchLogs:S,handleStart:B,handleStop:T}=(0,u.P)(),{isLoggedIn:q,isLoading:R,error:E,refreshStatus:L}=(0,h.u)(),[Q,M]=(0,a.useState)(!1);if(p.debug("Dashboard\u7ec4\u4ef6\u5f00\u59cb\u6e32\u67d3",{isLoading:b,isAuthenticated:s}),b)return p.debug("\u7b49\u5f85\u8ba4\u8bc1\u72b6\u6001\u786e\u8ba4..."),(0,x.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,x.jsx)("p",{className:"mt-4 text-gray-600",children:"\u52a0\u8f7d\u4e2d..."})]})});if(!s)return p.warn("\u672a\u8ba4\u8bc1\u7528\u6237\u5c1d\u8bd5\u8bbf\u95eeDashboard\u9875\u9762"),null;p.info("Dashboard\u8ba4\u8bc1\u68c0\u67e5\u901a\u8fc7\uff0c\u6e32\u67d3\u7ec4\u4ef6",{userId:null===t||void 0===t?void 0:t.userId,email:null===t||void 0===t?void 0:t.email}),p.debug("\u5f00\u59cb\u52a0\u8f7dDashboard\u6570\u636e");return(0,x.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,x.jsx)(l.A,{}),(0,x.jsx)(c.A,{size:"xl",paddingY:!0,children:(0,x.jsxs)("div",{className:"mt-16",children:[(0,x.jsx)("div",{className:"mb-8",children:(0,x.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["\u6b22\u8fce\u56de\u6765\uff0c",(null===t||void 0===t?void 0:t.username)||(null===t||void 0===t?void 0:t.email)||"\u7528\u6237","\uff01"]}),(0,x.jsx)("p",{className:"mt-2 text-gray-600",children:"\u8fd9\u662f\u60a8\u7684\u5de5\u4f5c\u53f0\uff0c\u7ba1\u7406\u60a8\u7684\u6c42\u804c\u4fe1\u606f"})]}),(0,x.jsx)(o.A,{as:"a",href:"/",variant:"ghost",size:"sm",children:"\u2190 \u8fd4\u56de\u4e3b\u9875"})]})}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[(0,x.jsx)(v,{title:"\u4eca\u65e5\u6295\u9012",value:C.deliveryCount||0,icon:"\ud83d\udcca",color:"blue"}),(0,x.jsx)(v,{title:"\u8fd0\u884c\u72b6\u6001",value:C.isRunning?"\u8fd0\u884c\u4e2d":"\u5df2\u505c\u6b62",icon:"\u2705",color:"green"}),(0,x.jsx)(v,{title:"\u667a\u80fd\u5339\u914d",value:"AI",icon:"\ud83e\udd16",color:"blue"}),(0,x.jsx)(v,{title:"\u6301\u7eed\u8fd0\u884c",value:"24/7",icon:"\u23f0",color:"blue"})]}),(0,x.jsxs)("div",{className:"mb-8",children:[(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\u667a\u80fd\u6295\u9012\u6d41\u7a0b"}),(0,x.jsx)("p",{className:"text-gray-600",children:"\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u5b8c\u6210\u7b80\u5386\u6295\u9012\u8bbe\u7f6e"})]}),(0,x.jsx)(n.A,{padding:"lg",children:(0,x.jsx)(i.A,{steps:(()=>{const t="success"===j,s=C.isRunning;return[{id:"config",label:"\u914d\u7f6e\u7ba1\u7406",icon:"\u2699\ufe0f",description:"\u8bbe\u7f6e\u6295\u9012\u53c2\u6570\u548c\u7b80\u5386\u5185\u5bb9",status:"completed",action:()=>e("/config")},{id:"login",label:q?"\u5df2\u767b\u5f55Boss":"\u626b\u7801\u767b\u5f55Boss",icon:q?"\u2705":"\ud83d\udcf1",description:q?"Boss\u8d26\u53f7\u5df2\u767b\u5f55\uff0c\u53ef\u76f4\u63a5\u542f\u52a8\u6295\u9012":"\u4f7f\u7528\u624b\u673aApp\u626b\u63cf\u4e8c\u7ef4\u7801\u767b\u5f55",status:q?"completed":"active",action:q?void 0:w},{id:"start",label:"\u542f\u52a8\u81ea\u52a8\u6295\u9012",icon:"\u25b6\ufe0f",description:"\u5f00\u59cb\u667a\u80fd\u6295\u9012\u7b80\u5386",status:s?"completed":q||t?"active":"pending",disabled:!(q||t)||s,action:B},{id:"logs",label:"\u67e5\u770b\u65e5\u5fd7",icon:"\ud83d\udccb",description:"\u76d1\u63a7\u6295\u9012\u72b6\u6001\u548c\u7ed3\u679c",status:s?"active":"pending",action:async()=>{await S(),M(!0)}},{id:"stop",label:"\u505c\u6b62\u6295\u9012",icon:"\u23f9\ufe0f",description:"\u505c\u6b62\u81ea\u52a8\u6295\u9012\u4efb\u52a1",status:s?"active":"pending",disabled:!s,action:T}]})(),currentStep:C.isRunning?3:q||"success"===j?2:1})})]}),!R&&(0,x.jsxs)(n.A,{className:"mb-6 ".concat(q?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:[(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("span",{className:"text-lg mr-2",children:q?"\u2705":"\u26a0\ufe0f"}),(0,x.jsx)("p",{className:"text-sm font-medium text-gray-900",children:q?"Boss\u8d26\u53f7\u5df2\u767b\u5f55":"\u9700\u8981\u626b\u7801\u767b\u5f55Boss"})]}),(0,x.jsx)(o.A,{onClick:L,variant:"ghost",size:"sm",children:"\u5237\u65b0\u72b6\u6001"})]}),E&&(0,x.jsxs)("p",{className:"text-xs mt-2 text-red-600",children:["\u68c0\u67e5\u72b6\u6001\u5931\u8d25: ",E]})]}),k&&(0,x.jsx)(n.A,{className:"mb-6 ".concat(k.includes("\u6210\u529f")?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,x.jsx)("p",{className:"text-sm text-gray-900",children:k})})]})}),Q&&(0,x.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,x.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold",children:"\ud83d\udccb \u6295\u9012\u65e5\u5fd7"}),(0,x.jsx)("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,x.jsx)("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg h-96 overflow-y-auto font-mono text-sm",children:I.length>0?I.map((e,t)=>(0,x.jsx)("div",{className:"mb-1",children:e},t)):(0,x.jsx)("div",{className:"text-gray-500",children:"\u6682\u65e0\u65e5\u5fd7\u8bb0\u5f55"})}),(0,x.jsx)("div",{className:"flex justify-end mt-4",children:(0,x.jsx)("button",{onClick:()=>M(!1),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"\u5173\u95ed"})})]})}),f&&(0,x.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,x.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,x.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"\u626b\u7801\u767b\u5f55Boss\u76f4\u8058"}),(0,x.jsx)("button",{onClick:N,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,x.jsxs)("div",{className:"text-center",children:[!y&&"waiting"===j&&(0,x.jsxs)("div",{className:"py-12",children:[(0,x.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-6"}),(0,x.jsx)("p",{className:"text-gray-600",children:"\u6b63\u5728\u52a0\u8f7d\u4e8c\u7ef4\u7801..."})]}),y&&(0,x.jsx)("div",{className:"mb-6 flex justify-center",children:(0,x.jsx)("img",{src:y,alt:"\u767b\u5f55\u4e8c\u7ef4\u7801",className:"rounded-lg shadow-lg",style:{width:"300px",height:"300px",objectFit:"cover"}})}),(0,x.jsxs)("p",{className:"mb-6 ".concat("waiting"===j?"text-gray-600":"success"===j?"text-green-600 font-semibold":"failed"===j?"text-red-600":"text-gray-500"),children:["waiting"===j&&"\u8bf7\u7528\u624b\u673aBoss App\u626b\u63cf\u4e8c\u7ef4\u7801","success"===j&&"\u2705 \u767b\u5f55\u6210\u529f\uff01","failed"===j&&"\u274c \u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5","not_started"===j&&"\u6b63\u5728\u542f\u52a8\u767b\u5f55\u6d41\u7a0b..."]}),(0,x.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,x.jsx)(o.A,{onClick:A,variant:"primary",children:"\u5237\u65b0\u4e8c\u7ef4\u7801"}),(0,x.jsx)(o.A,{onClick:N,variant:"ghost",children:"\u53d6\u6d88"})]})]})]})})]})}},2656:(e,t,s)=>{s.d(t,{A:()=>r});s(8878);var a=s(782);const r=e=>{let{children:t,className:s="",hover:r=!1,padding:o="md",onClick:n}=e;const c=r?"hover:shadow-md transition-shadow duration-200 cursor-pointer":"shadow-sm",l="".concat("bg-white rounded-lg border border-gray-200"," ").concat(c," ").concat({none:"",sm:"p-4",md:"p-6",lg:"p-10"}[o]," ").concat(s);return(0,a.jsx)("div",{className:l,onClick:n,children:t})}},5735:(e,t,s)=>{s.d(t,{u:()=>o});var a=s(8957),r=s(8878);const o=()=>{const[e,t]=(0,r.useState)({isLoggedIn:!1,isLoading:!0,error:null,lastChecked:null}),s=async()=>{try{t(e=>(0,a.A)((0,a.A)({},e),{},{isLoading:!0,error:null}));const e=await fetch("/api/boss/login/check-status",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken")),"Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const s=await e.json();if(!s.success)throw new Error(s.message||"\u68c0\u67e5\u767b\u5f55\u72b6\u6001\u5931\u8d25");t({isLoggedIn:s.isLoggedIn,isLoading:!1,error:null,lastChecked:new Date}),console.log("Boss\u767b\u5f55\u72b6\u6001\u68c0\u67e5\u5b8c\u6210: ".concat(s.isLoggedIn?"\u5df2\u767b\u5f55":"\u9700\u8981\u767b\u5f55"))}catch(e){console.error("\u68c0\u67e5Boss\u767b\u5f55\u72b6\u6001\u5931\u8d25:",e),t(t=>(0,a.A)((0,a.A)({},t),{},{isLoading:!1,error:e.message||"\u68c0\u67e5\u767b\u5f55\u72b6\u6001\u5931\u8d25"}))}};(0,r.useEffect)(()=>{s()},[]);return(0,a.A)((0,a.A)({},e),{},{refreshStatus:()=>{s()}})}},7248:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(8878),r=s(782);const o=e=>{let{steps:t}=e;const s=e=>{const t="flex flex-col items-center p-6 rounded-lg shadow-md transition-all duration-300 cursor-pointer";if(e.disabled)return"".concat(t," bg-gray-100 text-gray-400 cursor-not-allowed opacity-60");switch(e.status){case"completed":return"".concat(t," bg-green-50 border-2 border-green-200 hover:shadow-lg hover:bg-green-100");case"active":return"".concat(t," bg-blue-50 border-2 border-blue-600 hover:shadow-lg hover:bg-blue-100 animate-pulse");default:return"".concat(t," bg-white border-2 border-gray-200 hover:shadow-lg hover:bg-gray-50")}},o=e=>{const t="w-12 h-12 rounded-full flex items-center justify-center text-2xl font-bold mb-3";if(e.disabled)return"".concat(t," bg-gray-200 text-gray-400");switch(e.status){case"completed":return"".concat(t," bg-green-600 text-white");case"active":return"".concat(t," bg-blue-600 text-white");default:return"".concat(t," bg-gray-200 text-gray-600")}},n=(e,t)=>{const s="flex items-center justify-center text-2xl font-bold";return e.disabled||t.disabled?"".concat(s," text-gray-300"):"completed"===e.status?"".concat(s," text-green-500"):"".concat(s," text-gray-400")},c=e=>{!e.disabled&&e.action&&e.action()};return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"hidden md:flex items-center justify-center w-full gap-4",children:t.map((e,l)=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)("div",{className:"w-64 ".concat(s(e)),onClick:()=>c(e),title:e.disabled?"\u6b64\u6b65\u9aa4\u6682\u65f6\u4e0d\u53ef\u7528":e.description,children:[(0,r.jsx)("div",{className:o(e),children:"completed"===e.status?"\u2713":e.icon}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2 ".concat(e.disabled?"text-gray-400":"completed"===e.status?"text-green-800":"active"===e.status?"text-blue-800":"text-gray-800"),children:e.label}),(0,r.jsx)("p",{className:"text-sm text-center ".concat(e.disabled?"text-gray-400":"completed"===e.status?"text-green-600":"active"===e.status?"text-blue-600":"text-gray-600"),children:e.description})]}),l<t.length-1&&(0,r.jsx)("div",{className:"flex-shrink-0 ".concat(n(e,t[l+1])),children:"\u2192"})]},e.id))}),(0,r.jsx)("div",{className:"md:hidden space-y-4",children:t.map((e,l)=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("div",{className:"w-full ".concat(s(e)),onClick:()=>c(e),title:e.disabled?"\u6b64\u6b65\u9aa4\u6682\u65f6\u4e0d\u53ef\u7528":e.description,children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:o(e),children:"completed"===e.status?"\u2713":e.icon}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-1 ".concat(e.disabled?"text-gray-400":"completed"===e.status?"text-green-800":"active"===e.status?"text-blue-800":"text-gray-800"),children:e.label}),(0,r.jsx)("p",{className:"text-sm ".concat(e.disabled?"text-gray-400":"completed"===e.status?"text-green-600":"active"===e.status?"text-blue-600":"text-gray-600"),children:e.description})]})]})}),l<t.length-1&&(0,r.jsx)("div",{className:"flex justify-center ".concat(n(e,t[l+1])),children:"\u2193"})]},e.id))})]})}}}]);