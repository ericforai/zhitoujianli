<!DOCTYPE html><html data-astro-cid-u4te725l lang="zh-CN"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="noindex" name="robots"><title>æ™ºæŠ•ç®€å†åšå®¢ - ç®€å•ç®¡ç†</title><style>body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;margin:0;padding:20px;background-color:#f5f5f5}.container[data-astro-cid-u4te725l]{max-width:1200px;margin:0 auto;background:#fff;padding:30px;border-radius:8px;box-shadow:0 2px 10px #0000001a}h1[data-astro-cid-u4te725l]{color:#333;border-bottom:2px solid #007acc;padding-bottom:10px}.post-list[data-astro-cid-u4te725l]{margin-top:30px}.post-item[data-astro-cid-u4te725l]{border:1px solid #ddd;border-radius:5px;padding:15px;margin-bottom:15px;background:#fafafa}.post-title[data-astro-cid-u4te725l]{font-size:18px;font-weight:700;color:#333;margin-bottom:5px}.post-meta[data-astro-cid-u4te725l]{color:#666;font-size:14px;margin-bottom:10px}.post-actions[data-astro-cid-u4te725l]{margin-top:10px}.btn[data-astro-cid-u4te725l]{background:#007acc;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;margin-right:10px;text-decoration:none;display:inline-block}.btn[data-astro-cid-u4te725l]:hover{background:#005a9e}.btn-danger[data-astro-cid-u4te725l]{background:#dc3545}.btn-danger[data-astro-cid-u4te725l]:hover{background:#c82333}.new-post[data-astro-cid-u4te725l]{margin-bottom:30px}.form-group[data-astro-cid-u4te725l]{margin-bottom:15px}.form-group[data-astro-cid-u4te725l] label[data-astro-cid-u4te725l]{display:block;margin-bottom:5px;font-weight:700}.form-group[data-astro-cid-u4te725l] input[data-astro-cid-u4te725l],.form-group[data-astro-cid-u4te725l] textarea[data-astro-cid-u4te725l]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group[data-astro-cid-u4te725l] textarea[data-astro-cid-u4te725l]{height:200px;resize:vertical}</style></head><body data-astro-cid-u4te725l><div data-astro-cid-u4te725l class="container"><h1 data-astro-cid-u4te725l>ğŸ“ æ™ºæŠ•ç®€å†åšå®¢ç®¡ç†</h1><div data-astro-cid-u4te725l class="new-post"><h2 data-astro-cid-u4te725l>åˆ›å»ºæ–°æ–‡ç« </h2><form data-astro-cid-u4te725l id="newPostForm"><div data-astro-cid-u4te725l class="form-group"><label data-astro-cid-u4te725l for="title">æ ‡é¢˜</label> <input data-astro-cid-u4te725l id="title" name="title" type="text" required></div><div data-astro-cid-u4te725l class="form-group"><label data-astro-cid-u4te725l for="excerpt">æ‘˜è¦</label> <textarea data-astro-cid-u4te725l id="excerpt" name="excerpt" rows="3"></textarea></div><div data-astro-cid-u4te725l class="form-group"><label data-astro-cid-u4te725l for="category">åˆ†ç±»</label> <input data-astro-cid-u4te725l id="category" name="category" type="text" placeholder="ä¾‹å¦‚ï¼šæŠ€æœ¯æ·±åº¦"></div><div data-astro-cid-u4te725l class="form-group"><label data-astro-cid-u4te725l for="tags">æ ‡ç­¾ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰</label> <input data-astro-cid-u4te725l id="tags" name="tags" type="text" placeholder="ä¾‹å¦‚ï¼šAI,æ±‚èŒ,ç®€å†"></div><div data-astro-cid-u4te725l class="form-group"><label data-astro-cid-u4te725l for="content">å†…å®¹ï¼ˆMarkdownæ ¼å¼ï¼‰</label> <textarea data-astro-cid-u4te725l id="content" name="content" required></textarea></div><button class="btn" data-astro-cid-u4te725l type="submit">åˆ›å»ºæ–‡ç« </button></form></div><div data-astro-cid-u4te725l class="post-list"><h2 data-astro-cid-u4te725l>ç°æœ‰æ–‡ç« </h2><div data-astro-cid-u4te725l id="postsList"><p data-astro-cid-u4te725l>æ­£åœ¨åŠ è½½æ–‡ç« åˆ—è¡¨...</p></div></div></div><script type="module">class a{constructor(){this.init()}init(){this.loadPosts(),this.setupForm()}async loadPosts(){try{const t=await fetch("/api/posts");if(t.ok){const e=await t.json();this.renderPosts(e)}else document.getElementById("postsList").innerHTML="<p>æ— æ³•åŠ è½½æ–‡ç« åˆ—è¡¨ã€‚è¯·æ£€æŸ¥æœåŠ¡å™¨é…ç½®ã€‚</p>"}catch(t){document.getElementById("postsList").innerHTML="<p>åŠ è½½æ–‡ç« æ—¶å‡ºé”™ï¼š"+t.message+"</p>"}}renderPosts(t){const e=document.getElementById("postsList");if(0===t.length)return void(e.innerHTML="<p>æš‚æ— æ–‡ç« ã€‚</p>");const s=t.map((t=>`\n                    <div class="post-item">\n                        <div class="post-title">${t.title}</div>\n                        <div class="post-meta">\n                            åˆ†ç±»: ${t.category||"æœªåˆ†ç±»"} |\n                            æ ‡ç­¾: ${t.tags?t.tags.join(", "):"æ— "} |\n                            åˆ›å»ºæ—¶é—´: ${new Date(t.publishDate||t.createdAt).toLocaleDateString()}\n                        </div>\n                        <div class="post-actions">\n                            <a href="/${t.slug}" class="btn" target="_blank">æŸ¥çœ‹</a>\n                            <button class="btn" onclick="editPost('${t.slug}')">ç¼–è¾‘</button>\n                            <button class="btn btn-danger" onclick="deletePost('${t.slug}')">åˆ é™¤</button>\n                        </div>\n                    </div>\n                `)).join("");e.innerHTML=s}setupForm(){document.getElementById("newPostForm").addEventListener("submit",(async t=>{t.preventDefault();const e=new FormData(t.target),s={title:e.get("title"),excerpt:e.get("excerpt"),category:e.get("category"),tags:e.get("tags").split(",").map((t=>t.trim())).filter((t=>t)),content:e.get("content"),publishDate:(new Date).toISOString()};try{const e=await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});e.ok?(alert("æ–‡ç« åˆ›å»ºæˆåŠŸï¼"),t.target.reset(),this.loadPosts()):alert("åˆ›å»ºæ–‡ç« å¤±è´¥ï¼š"+e.statusText)}catch(t){alert("åˆ›å»ºæ–‡ç« æ—¶å‡ºé”™ï¼š"+t.message)}}))}}new a</script></body></html>