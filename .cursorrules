# ============================================================
# æ™ºæŠ•ç®€å†é¡¹ç›® - Cursor AI å·¥ä½œè§„åˆ™
# æ¯æ¬¡æ‰“å¼€é¡¹ç›®æ—¶ï¼ŒAIå¿…é¡»éµå®ˆä»¥ä¸‹è§„åˆ™
# ============================================================

## ğŸš¨ éƒ¨ç½²è§„åˆ™ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰

### å‰ç«¯éƒ¨ç½² - ç»å¯¹ç¦æ­¢æ‰‹åŠ¨æ“ä½œ

**âŒ æ°¸è¿œä¸è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š**
```bash
# âŒ ç¦æ­¢ï¼ä¼šéƒ¨ç½²åˆ°é”™è¯¯è·¯å¾„
cp build/* /usr/share/nginx/html/

# âŒ ç¦æ­¢ï¼ä¼šéƒ¨ç½²åˆ°é”™è¯¯è·¯å¾„
cp -r build /usr/share/nginx/html/
```

**âœ… å¿…é¡»ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼š**
```bash
# âœ… æ­£ç¡®æ–¹å¼ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
./deploy-frontend.sh

# æˆ–è€…å®Œæ•´è·¯å¾„
/opt/zhitoujianli/scripts/build-and-deploy-frontend.sh
```

**éƒ¨ç½²æµç¨‹æ£€æŸ¥æ¸…å•ï¼š**
1. ä¿®æ”¹å‰ç«¯ä»£ç 
2. æ‰§è¡Œ `./deploy-frontend.sh`ï¼ˆè‡ªåŠ¨æ„å»º+éƒ¨ç½²ï¼‰
3. ç­‰å¾…è„šæœ¬å®Œæˆ
4. æé†’ç”¨æˆ·æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼ˆCtrl + Shift + Rï¼‰
5. éªŒè¯éƒ¨ç½²æˆåŠŸ

### åç«¯éƒ¨ç½²è§„åˆ™

**éƒ¨ç½²æµç¨‹ï¼š**
1. ä¿®æ”¹åç«¯ä»£ç 
2. æ‰§è¡Œ Maven æ„å»ºï¼š`cd backend/get_jobs && mvn clean package -DskipTests`
3. å¤åˆ¶ JARï¼š`cp target/get_jobs-*.jar /opt/zhitoujianli/backend/get_jobs-vX.X.X.jar`
4. æ›´æ–°ç¬¦å·é“¾æ¥ï¼š`ln -sf /opt/zhitoujianli/backend/get_jobs-vX.X.X.jar /opt/zhitoujianli/backend/get_jobs-latest.jar`
5. æ‰§è¡Œ `systemctl daemon-reload`ï¼ˆå¦‚æœä¿®æ”¹äº†systemdé…ç½®ï¼‰
6. é‡å¯æœåŠ¡ï¼š`systemctl restart zhitoujianli-backend.service`
7. éªŒè¯ï¼š`systemctl status zhitoujianli-backend.service`

### é‡è¦è·¯å¾„ï¼ˆå¿…é¡»è®°ä½ï¼‰

```yaml
å‰ç«¯éƒ¨ç½²è·¯å¾„: /var/www/zhitoujianli/build/  # â† Nginxé…ç½®çš„è·¯å¾„
å‰ç«¯æ„å»ºæº: /root/zhitoujianli/website/zhitoujianli-website/build/
åç«¯JARè·¯å¾„: /opt/zhitoujianli/backend/
ç¯å¢ƒå˜é‡æ–‡ä»¶: /etc/zhitoujianli/backend.env
éƒ¨ç½²è„šæœ¬: /opt/zhitoujianli/scripts/
```

## ğŸ”§ å¼€å‘è§„åˆ™

### ä»£ç ä¿®æ”¹åçš„æ ‡å‡†æµç¨‹

**å‰ç«¯ä¿®æ”¹ï¼š**
```bash
# 1. ä¿®æ”¹ä»£ç 
# 2. éƒ¨ç½²
cd /root/zhitoujianli
./deploy-frontend.sh

# 3. æé†’ç”¨æˆ·æ¸…é™¤ç¼“å­˜
```

**åç«¯ä¿®æ”¹ï¼š**
```bash
# 1. ä¿®æ”¹ä»£ç 
# 2. æ„å»º
cd /root/zhitoujianli/backend/get_jobs
mvn clean package -DskipTests

# 3. éƒ¨ç½²ï¼ˆä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼‰
# TODO: åˆ›å»ºåç«¯éƒ¨ç½²è„šæœ¬
```

## ğŸš« ç»å¯¹ç¦æ­¢çš„æ“ä½œ

1. **âŒ ç¦æ­¢æ‰‹åŠ¨å¤åˆ¶æ–‡ä»¶åˆ° /usr/share/nginx/html/**
2. **âŒ ç¦æ­¢åœ¨systemdé…ç½®ä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯**
3. **âŒ ç¦æ­¢ä½¿ç”¨ default_user è¿›è¡Œä»»ä½•æ“ä½œ**
4. **âŒ ç¦æ­¢è·³è¿‡ systemctl daemon-reload**
5. **âŒ ç¦æ­¢åœ¨æœªéªŒè¯çš„æƒ…å†µä¸‹é‡å¯ç”Ÿäº§æœåŠ¡**

## âœ… å¿…é¡»æ‰§è¡Œçš„æ£€æŸ¥

### æ¯æ¬¡éƒ¨ç½²å‰ï¼š
- [ ] ç¡®è®¤ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬
- [ ] æ£€æŸ¥ç›®æ ‡è·¯å¾„æ­£ç¡®
- [ ] éªŒè¯æœåŠ¡è¿è¡ŒçŠ¶æ€
- [ ] å¤‡ä»½å·²å®Œæˆï¼ˆè„šæœ¬è‡ªåŠ¨ï¼‰

### æ¯æ¬¡éƒ¨ç½²åï¼š
- [ ] éªŒè¯æ–‡ä»¶å­˜åœ¨äºæ­£ç¡®è·¯å¾„
- [ ] æµ‹è¯•APIå“åº”
- [ ] æ£€æŸ¥æœåŠ¡æ—¥å¿—æ— é”™è¯¯
- [ ] æé†’ç”¨æˆ·æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

## ğŸ“ é—®é¢˜æ’æŸ¥ä¼˜å…ˆçº§

1. **äºŒç»´ç ä¸æ˜¾ç¤º** â†’ æ£€æŸ¥å‰ç«¯æ˜¯å¦éƒ¨ç½²åˆ°æ­£ç¡®è·¯å¾„
2. **401é”™è¯¯** â†’ æ£€æŸ¥JWT Tokenæ˜¯å¦æºå¸¦
3. **500é”™è¯¯** â†’ æ£€æŸ¥åç«¯æ—¥å¿—
4. **æœåŠ¡å´©æºƒ** â†’ æ£€æŸ¥ç«¯å£å ç”¨ã€ç¯å¢ƒå˜é‡

## ğŸ¯ AIè¡Œä¸ºå‡†åˆ™

**å½“ç”¨æˆ·è¯´"éƒ¨ç½²å‰ç«¯"æ—¶ï¼Œæˆ‘å¿…é¡»ï¼š**
1. æ‰§è¡Œ `./deploy-frontend.sh`
2. **ä¸æ˜¯**æ‰‹åŠ¨å¤åˆ¶æ–‡ä»¶
3. **ä¸æ˜¯**è¯¢é—®ç”¨æˆ·è·¯å¾„
4. è‡ªåŠ¨åŒ–è„šæœ¬ä¼šå¤„ç†ä¸€åˆ‡

**å½“ç”¨æˆ·æŠ¥å‘Š"äºŒç»´ç ä¸æ˜¾ç¤º"æ—¶ï¼Œæˆ‘å¿…é¡»ï¼š**
1. é¦–å…ˆæ£€æŸ¥å‰ç«¯éƒ¨ç½²è·¯å¾„æ˜¯å¦æ­£ç¡®
2. éªŒè¯ `/var/www/zhitoujianli/build/` æ˜¯å¦æœ‰æœ€æ–°æ–‡ä»¶
3. æé†’ç”¨æˆ·æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

**å½“åç«¯æœåŠ¡å´©æºƒæ—¶ï¼Œæˆ‘å¿…é¡»ï¼š**
1. æ£€æŸ¥ `systemctl status zhitoujianli-backend.service`
2. æŸ¥çœ‹æ—¥å¿— `journalctl -u zhitoujianli-backend.service -n 50`
3. æ£€æŸ¥ç«¯å£å ç”¨ `lsof -i:8080`
4. éªŒè¯ç¯å¢ƒå˜é‡æ–‡ä»¶å­˜åœ¨

## ğŸ“š å‚è€ƒæ–‡æ¡£

- éƒ¨ç½²æŒ‡å—: `/opt/zhitoujianli/docs/DEPLOYMENT_GUIDE.md`
- å¿«é€Ÿå‚è€ƒ: `/root/zhitoujianli/README_DEPLOYMENT.md`
- ä¿®å¤æ€»ç»“: `/opt/zhitoujianli/docs/FIX_SUMMARY_20251102.txt`

## ğŸ”„ ç‰ˆæœ¬ç®¡ç†

**å½“å‰ç‰ˆæœ¬ï¼š**
- å‰ç«¯ï¼šä½¿ç”¨ Git SHA æˆ– build æ—¶é—´æˆ³
- åç«¯ï¼šv2.1.1ï¼ˆåŒ…å«ç”¨æˆ·éš”ç¦»ä¿®å¤ï¼‰

**éƒ¨ç½²è®°å½•ï¼š**
- æ‰€æœ‰éƒ¨ç½²è‡ªåŠ¨è®°å½•åˆ° `/opt/zhitoujianli/logs/deploy-frontend.log`

---

**ğŸ¤– AIæé†’ï¼šæ¯æ¬¡æ‰§è¡Œæ“ä½œå‰ï¼Œå…ˆæ£€æŸ¥è¿™ä¸ªæ–‡ä»¶ï¼**

